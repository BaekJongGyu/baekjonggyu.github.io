"use strict";class CIFrame extends CElementControl{constructor(t,o){super("iframe",t,o),this._src=""}get src(){return this._src}set src(t){this._src!=t&&(this._src=t,this.element.src=t)}doToData(t){super.doToData(t),CDataClass.putData(t,"src",this.src,"")}doFromData(t){super.doFromData(t),this.src=CDataClass.getData(t,"src","")}doInitInnerElement(){super.doInitInnerElement(),this.element.setAttribute("className",this.className),this.element.style.outline="none",this.element.style.position="absolute",this.element.style.margin="0px 0px 0px 0px",this.element.style.padding="0px 0px 0px 0px",this.element.style.border="none",this.element.style.zIndex=CSystem.getZPlus()+"",this.element.setAttribute("ondragstart","return false"),this.element.setAttribute("onselectstart","return false"),this.element.setAttribute("oncontextmenu","return false"),this.element.style.touchAction="auto",this.element.style.userSelect="text",this.element.style.pointerEvents="auto"}}class CMultiSlideBox extends CPanel{constructor(t,o){super(t,o),this._slideHandles=new CList,this._handleResource="";let e=this;this._slideHandles.onChange=function(){e.doChangeHandles()}}get slideHandles(){return this._slideHandles}get handleResource(){return this._handleResource}set handleResource(t){if(this._handleResource!=t){this._handleResource=t;for(let o=0;o<this._slideHandles.length;o++){let e=this._slideHandles.get(o).text;this._slideHandles.get(o).resource=t,this._slideHandles.get(o).text=e}}}doToData(t){super.doToData(t),CDataClass.putData(t,"handleResource",this.handleResource,"")}doFromData(t){super.doFromData(t),this.handleResource=CDataClass.getData(t,"handleResource","")}doChangeHandles(){null!=this.onChangeHandles&&this.onChangeHandles(this)}doCreateHandle(t,o,e,i,s){let n=new CPanel(this);n.onResource=function(){n.usePointerCapture=!0,n.useMove=!0,n.position.left=o,n.position.top=e,n.position.width=null==i?30:i,n.position.height=null==s?30:s,n.moveAreaLength=n.position.height},n.resource=t,n.usePointerCapture=!0,n.position.left=o,n.position.top=e,n.useMove=!0,n.position.width=null==i?30:i,n.position.height=null==s?30:s,n.moveAreaLength=n.position.height;let a=this;return n.onMove=function(t,o){a.doHandleTrack(n,n.position.left,n.position.top,n.position.left+n.position.width/2,n.position.top+n.position.height/2)},null!=this.onCreateHandle&&this.onCreateHandle(this,n),n}doAddHandle(t,o,e,i,s){let n=this.doCreateHandle(t,o,e,i,s);return this._slideHandles.add(n),null!=this.onAddHandle&&this.onAddHandle(this,t,o,e,i,s),n}doDeleteHandle(t){this._slideHandles.get(t).remove(),this._slideHandles.delete(t),null!=this.onDeleteHandle&&this.onDeleteHandle(this,t)}doClearHandle(){for(let t=0;t<this._slideHandles.length;t++)this._slideHandles.get(t).remove();this._slideHandles.clear(),null!=this.onClear&&this.onClear(this)}doHandleTrack(t,o,e,i,s){null!=this.onHandleTrack&&this.onHandleTrack(this,t,o,e,i,s)}addHandle(t,o,e,i,s){return this.doAddHandle(t,o,e,i,s)}deleteHandle(t){this.doDeleteHandle(t)}clearHandle(){this.doClearHandle()}}var ESlideDirection;!function(t){t[t.X=0]="X",t[t.Y=1]="Y"}(ESlideDirection||(ESlideDirection={}));class CSlideControlBox extends CUnlimitedScrollBox{constructor(t,o){super(t,o),this.__interval=0,this._controls=new CList,this._controlContent=new CLayout(this.content),this.slideDirection=ESlideDirection.X,this.centerZ=-3e3,this.y=0,this.radiusX=800,this.radiusY=200,this.radiusZ=1e3,this.useHScrollbar=!1,this.useVScrollbar=!1,this._controlContent.transform.translateZ=.25,this.setControlPosition(this._controlContent)}get controls(){return this._controls}get controlContent(){return this._controlContent}getLeft(){return this.background.controlElement.scrollLeft}getTop(){return this.background.controlElement.scrollTop}setControlPosition(t){t.position.align!=EPositionAlign.NONE&&(t.position.align=EPositionAlign.NONE),t.position.left=this.getLeft(),t.position.top=this.getTop(),t.position.width=this.background.position.width,t.position.height=this.background.position.height}doChangeSize(){super.doChangeSize(),this.setControlPosition(this._controlContent)}doChangeScrollValue(){super.doChangeScrollArea();for(let t=0;t<this.controls.length;t++)this.controls.get(t).visible=!0,this.controls.get(t).opacity=.5;this.setControlPosition(this._controlContent),this.slideDirection==ESlideDirection.X?this.doSetControlsTransfrom(this.scrollX):this.doSetControlsTransfrom(this.scrollY)}doSetControlsTransfrom(t){let o=360/this._controls.length;for(let e=0;e<this._controls.length;e++){let i,s=e*o-t/10;this.slideDirection==ESlideDirection.X&&(i=CPoint3D.getAngleToPoint3DEllipse(new CPoint3D(0,this.y,this.centerZ),0,s,this.radiusX,this.radiusY,this.radiusZ),this._controls.get(e).transform.rotateY=s,this._controls.get(e).opacity=CCalc.crRange2Value(1,-1,CCalc.cosd(s),1,.1),this._controls.get(e).transform.translateX=i.x,this._controls.get(e).transform.translateY=CCalc.cosd(s)*this.radiusY,this._controls.get(e).transform.translateZ=i.z,this._controls.get(e).controlElement.style.zIndex=9e5-Math.floor(-1*i.z)+""),this.slideDirection==ESlideDirection.Y&&(i=CPoint3D.getAngleToPoint3DEllipse(new CPoint3D(0,this.y,this.centerZ),90,s,this.radiusX,this.radiusY,this.radiusZ),this._controls.get(e).transform.rotateX=360-s,this._controls.get(e).opacity=CCalc.crRange2Value(1,-1,CCalc.cosd(s),1,.1),this._controls.get(e).transform.translateX=CCalc.cosd(s)*this.radiusX,this._controls.get(e).transform.translateY=i.y,this._controls.get(e).transform.translateZ=i.z,this._controls.get(e).controlElement.style.zIndex=9e5-Math.floor(-1*i.z)+"")}}doScrollStop(){super.doScrollStop();let t=new Array;for(let o=0;o<this._controls.length;o++)t.push(this._controls.get(o));t.sort(function(t,o){let e=0;return t.transform.translateZ>o.transform.translateZ&&(e=-1),t.transform.translateZ<o.transform.translateZ&&(e=1),e});for(let o=0;o<t.length;o++)t[o].visible=0==o;let o=t[0].transform.translateX,e=t[0].transform.translateY,i=t[0].transform.translateZ,s=t[0].transform.rotateY,n=t[0].transform.rotateX,a=t[0].opacity,h=1-t[0].opacity;CAnimation.animate(100,function(r,l,p){t[0].transform.translateX=o-o*l,t[0].transform.translateY=e-e*l,t[0].transform.translateZ=i-i*l,t[0].transform.rotateX=n-n*l,t[0].transform.rotateY=s-s*l,t[0].opacity=h+a*l})}addControl(t){t.parent=this.controlContent,t.position.align=EPositionAlign.CLIENT,this._controls.add(t)}}class CHueCircleDrawModel extends CNotifyChangeNotifyObject{constructor(){super(...arguments),this._margin=5,this._weight=20,this._strokeColor="rgba(255,255,255,1)",this._strokeLineWidth=2,this._h=0,this._s=1,this._l=.5,this._a=1}get strokeColor(){return this._strokeColor}set strokeColor(t){this._strokeColor!=t&&(this._strokeColor=t,this.doChange())}get strokeLineWidth(){return this._strokeLineWidth}set strokeLineWidth(t){this._strokeLineWidth!=t&&(this._strokeLineWidth=t,this.doChange())}get margin(){return this._margin}set margin(t){this._margin!=t&&(this._margin=t,this.doChange())}get weight(){return this._weight}set weight(t){this._weight!=t&&(this._weight=t,this.doChange())}get h(){return this._h}set h(t){this._h!=t&&(this._h=t,this.doChange())}get s(){return this._s}set s(t){this._s!=t&&(this._s=t,this.doChange())}get l(){return this._l}set l(t){this._l!=t&&(this._l=t,this.doChange())}get a(){return this._a}set a(t){this._a!=t&&(this._a=t,this.doChange())}doToData(t){super.doToData(t),CDataClass.putData(t,"margin",this.margin,5),CDataClass.putData(t,"weight",this.weight,20),CDataClass.putData(t,"strokeColor",this.strokeColor,"rgba(255,255,255,1)"),CDataClass.putData(t,"strokeLineWidth",this.strokeLineWidth,2),CDataClass.putData(t,"h",this.h,0),CDataClass.putData(t,"s",this.s,1),CDataClass.putData(t,"l",this.l,.5),CDataClass.putData(t,"a",this.a,1)}doFromData(t){super.doFromData(t),this.margin=CDataClass.getData(t,"margin",5),this.weight=CDataClass.getData(t,"weight",20),this.strokeColor=CDataClass.getData(t,"strokeColor","rgba(255,255,255,1)"),this.strokeLineWidth=CDataClass.getData(t,"strokeLineWidth",2),this.h=CDataClass.getData(t,"h",0),this.s=CDataClass.getData(t,"s",1),this.l=CDataClass.getData(t,"l",.5),this.a=CDataClass.getData(t,"a",1)}draw(t,o){if(o.width<=0||o.height<=0)return;let e=t.getImageData(o.left,o.top,o.width,o.height),i=new CPoint(o.left+o.width/2,o.top+o.height/2),s=CCalc.min(o.width,o.height)/2-this.margin,n=s-this.weight;for(let t=0;t<o.width;t++)for(let a=0;a<o.height;a++){let h=o.left+t,r=o.top+a,l=CPoint.getDistancePoints(i,new CPoint(h,r)),p=a*(4*o.width)+4*t;if(l>n&&l<=s){let t=CPoint.getAngleFromTwoPoint(i,new CPoint(h,r)),o=CColor.hslToRGB(new CHSLA(t,1,.5,1));e.data[p]=o.r,e.data[p+1]=o.g,e.data[p+2]=o.b,e.data[p+3]=CCalc.cr(255,0,1,o.a,2)}}t.putImageData(e,o.left,o.top),t.strokeStyle=this._strokeColor,t.lineWidth=this._strokeLineWidth;let a=new CPathPointList,h=new CRect(o.left+this.margin,o.top+this.margin,o.right-this.margin,o.bottom-this.margin),r=new CRect(h.left,h.top,h.left+CCalc.min(h.width,h.height),h.top+CCalc.min(h.width,h.height));(r=h.getFitRect(r,!0)).offset(o.left+this.margin,o.top+this.margin),a.makeEllipseData(r.left,r.top,r.width,r.height),a.setPathData(t),t.stroke(),r.inflate(-this.weight,-this.weight),a.makeEllipseData(r.left,r.top,r.width,r.height),a.setPathData(t),t.stroke();let l=n+(s-n)/2,p=CPoint.getAngleToPoint(i,l,l,this.h),d=new CRect(p.x-this.weight/2,p.y-this.weight/2,p.x+this.weight/2,p.y+this.weight/2);a.makeEllipseData(d.left,d.top,d.width,d.height),a.setPathData(t),t.stroke()}toHSLA(){return new CHSLA(this.h,this.s,this.l,this.a)}toRGBA(){return CColor.hslToRGB(this.toHSLA())}toColor(){return this.toHSLA().toColor()}isHitCircle(t,o){let e=CCalc.min(t.width,t.height)/2-this.margin,i=e-this.weight,s=new CPoint(t.left+t.width/2,t.top+t.height/2),n=CPoint.getDistancePoints(s,o);return n>i&&n<=e}}class CHueCircleSLDrawModel extends CHueCircleDrawModel{constructor(){super(...arguments),this._slcursorWeight=20}get slcursorWeight(){return this._slcursorWeight}set slcursorWeight(t){this._slcursorWeight!=t&&(this._slcursorWeight=t,this.doChange())}doToData(t){super.doToData(t),CDataClass.putData(t,"slcursorWeight",this.slcursorWeight,20)}doFromData(t){super.doFromData(t),this.slcursorWeight=CDataClass.getData(t,"slcursorWeight",20)}draw(t,o){if(o.width<=0||o.height<=0)return;new Function("ctx","ctx.canvas.willReadFrequently = true")(t),super.draw(t,o);let e=new CPoint(o.left+o.width/2,o.top+o.height/2),i=CCalc.min(o.width,o.height)/2-this.margin-this.weight,s=CPoint.getAngleToPoint(e,i,i,45).x-e.x-this.strokeLineWidth,n=new CRect(Math.floor(e.x-s),Math.floor(e.y-s),Math.floor(e.x+s),Math.floor(e.y+s)),a=t.getImageData(n.left,n.top,n.width,n.height);for(let t=0;t<n.width;t++)for(let o=0;o<n.height;o++){let e=o*(4*n.width)+4*t,i=CColor.hslToRGB(new CHSLA(this.h,CCalc.cr(n.width-1,t,1,0,4),CCalc.cr(n.height-1,o,1,0,4),this.a));a.data[e]=i.r,a.data[e+1]=i.g,a.data[e+2]=i.b,a.data[e+3]=255}t.putImageData(a,n.left,n.top),t.strokeStyle=this._strokeColor,t.lineWidth=this._strokeLineWidth;let h=CCalc.cr(n.width,0,1,this.s,2),r=CCalc.cr(n.height,0,1,this.l,2),l=new CRect(n.left+h-this._slcursorWeight/2,n.top+r-this._slcursorWeight/2,n.left+h+this._slcursorWeight/2,n.top+r+this._slcursorWeight/2),p=new CPathPointList;p.makeEllipseData(l.left,l.top,l.width,l.height),p.setPathData(t),t.stroke()}getSLArea(t){let o=new CPoint(t.left+t.width/2,t.top+t.height/2),e=CCalc.min(t.width,t.height)/2-this.margin-this.weight,i=CPoint.getAngleToPoint(o,e,e,45).x-o.x-this.strokeLineWidth;return new CRect(Math.floor(o.x-i),Math.floor(o.y-i),Math.floor(o.x+i),Math.floor(o.y+i))}isHitSLArea(t,o){return this.getSLArea(t).isIn(o.x,o.y)}}class CHueColorBox extends CPanel{constructor(t,o){super(t,o),this.__hit=-1,this._hueModel=new CHueCircleSLDrawModel;let e=this;this._hueModel.onChange=function(t){e.draw()}}get isEditing(){return-1!=this.__hit}get ringMargin(){return this._hueModel.margin}get hueModel(){return this._hueModel}get ringWeight(){return this._hueModel.weight}set ringWeight(t){this._hueModel.weight!=t&&(this._hueModel.weight=t,this.doChange("ringWeight",t))}get slcursorWeight(){return this._hueModel.slcursorWeight}set slcursorWeight(t){this._hueModel.slcursorWeight!=t&&(this._hueModel.slcursorWeight=t,this.doChange("slcursorWeight",t))}get strokeColor(){return this._hueModel.strokeColor}set strokeColor(t){this._hueModel.strokeColor!=t&&(this._hueModel.strokeColor=t,this.doChange("strokeColor",t))}get strokeLineWidth(){return this._hueModel.strokeLineWidth}set strokeLineWidth(t){this._hueModel.strokeLineWidth!=t&&(this._hueModel.strokeLineWidth=t,this.doChange("strokeLineWidth",t))}get rgba(){return this._hueModel.toRGBA()}get color(){return this._hueModel.toRGBA().toColor()}set color(t){let o=new CColor(t).toHSLA();this._hueModel.h==o.h&&this._hueModel.s==o.s&&this._hueModel.l==o.l&&this._hueModel.a==o.a||(this._hueModel.h=o.h,this._hueModel.s=o.s,this._hueModel.l=o.l,this._hueModel.a=o.a,this.doChangeColor())}get hslaColor(){return this._hueModel.toColor()}get hsla(){return this._hueModel.toHSLA()}get h(){return this._hueModel.h}set h(t){this._hueModel.h!=t&&(this._hueModel.h=t,this.doChangeColor())}get s(){return this._hueModel.s}set s(t){this._hueModel.s!=t&&(this._hueModel.s=t,this.doChangeColor())}get l(){return this._hueModel.l}set l(t){this._hueModel.l!=t&&(this._hueModel.l=t,this.doChangeColor())}get a(){return this._hueModel.a}set a(t){this._hueModel.a!=t&&(this._hueModel.a=t,this.doChangeColor())}doToData(t){super.doToData(t),CDataClass.putData(t,"hue",this.hueModel.toData())}doFromData(t){super.doFromData(t),this.hueModel.fromData(CDataClass.getData(t,"hue"))}doThisPointerDown(t,o){super.doThisPointerDown(t,o);let e=new CRect(0,0,this.position.width,this.position.height);this._hueModel.isHitCircle(e,new CPoint(t.offsetX,t.offsetY))&&(this.__hit=0,this.setH(new CPoint(t.offsetX,t.offsetY))),this._hueModel.isHitSLArea(e,new CPoint(t.offsetX,t.offsetY))&&(this.__hit=1,this.setSL(new CPoint(t.offsetX,t.offsetY)))}doThisPointerMove(t,o){super.doThisPointerMove(t,o),0==this.__hit&&this.setH(new CPoint(t.offsetX,t.offsetY)),1==this.__hit&&this.setSL(new CPoint(t.offsetX,t.offsetY))}doThisPointerUp(t,o){super.doThisPointerUp(t,o),this.__hit=-1}doPointerOut(t){super.doPointerOut(t),this.usePointerCapture||(this.__hit=-1)}doChangeColor(){null!=this.onChangeColor&&this.onChangeColor(this)}setH(t){let o=new CRect(0,0,this.position.width,this.position.height),e=new CPoint(o.width/2,o.height/2);this._hueModel.h=CPoint.getAngleFromTwoPoint(e,t),this.doChangeColor()}setSL(t){let o=this._hueModel.getSLArea(new CRect(0,0,this.position.width,this.position.height)),e=CCalc.cr(o.height,t.y-o.top,1,0,4);e<0&&(e=0),e>1&&(e=1);let i=CCalc.cr(o.width,t.x-o.left,1,0,4);i<0&&(i=0),i>1&&(i=1),this._hueModel.s=i,this._hueModel.l=e,this.doChangeColor()}doLayerDraw(t,o,e){super.doLayerDraw(t,o,e),0==t&&o.canvas.width>0&&o.canvas.height>0&&this._hueModel.draw(e,new CRect(0,0,this.position.width,this.position.height))}}class CColorBox extends CPanel{constructor(t,o){super(t,o),this._color="rgba(255,255,255,1)",this.layer=this.layers.addLayer()}get color(){return this._color}set color(t){this._color!=t&&(this._color=t,this.doChangeColor())}get resource(){return""}set resource(t){this._resource=""}doToData(t){super.doToData(t),CDataClass.putData(t,"color",this.color,"rgba(255,255,255,1)")}doFromData(t){super.doFromData(t),this.color=CDataClass.getData(t,"color","rgba(255,255,255,1)")}doChangeColor(){this.draw(),null!=this.onChangeColor&&this.onChangeColor(this)}doLayerDraw(t,o,e){if(super.doLayerDraw(t,o,e),o.canvas.width>0&&o.canvas.height>0){let t=Math.ceil(this.position.width/10)+1,o=Math.ceil(this.position.height/10)+1;for(let i=0;i<o;i++){let o=!1;i%2==1&&(o=!0);for(let s=0;s<t;s++){let t="rgba(204,204,204,1)";o&&(t="rgba(255,255,255,1)"),o=!o,e.fillStyle=t,e.fillRect(10*s,10*i,10*s+10,10*i+10)}}e.fillStyle=this.color,e.fillRect(0,0,this.position.width,this.position.height)}}}class CColorSelectorModel extends CPanel{constructor(t,o){super(t,o),this.__changer="",this._color="rgba(255,255,255,1)",this.hueBox=new CHueColorBox(this),this.textBox=new CTextBox(this),this.colorBox=new CColorBox(this),this.opacityControl=new CScrollbar(this);let e=this;this.opacityControl.onChangeValue=function(){e.__changer="opacityControl";let t=new CColor(e.color);t.a=e.opacityControl.valueRatio,e.color=t.toColor(),e.__changer=""},this.colorBox.onChangeColor=function(){e.__changer="hueBox",e.color=e.colorBox.color,e.__changer=""},this.textBox.onKeyDown=function(t,o){"Enter"==o.key&&(e.color=e.textBox.text)},this.hueBox.onChangeColor=function(){e.__changer="hueBox",e.color=e.hueBox.color,e.__changer=""}}get color(){return this._color}set color(t){this._color!=t&&(this._color=t,this.doChangeColor())}get hueBoxResource(){return this.hueBox.resource}set hueBoxResource(t){this.hueBox.resource=t}get opacityControlResource(){return this.opacityControl.resource}set opacityControlResource(t){this.opacityControl.resource=t}get textBoxResource(){return this.textBox.resource}set textBoxResource(t){this.textBox.resource=t}get opacityControlHeight(){return this.opacityControl.position.height}set opacityControlHeight(t){this.opacityControl.position.height=t}get textBoxHeight(){return this.textBox.position.height}set textBoxHeight(t){this.textBox.position.height=t}get colorBoxHeight(){return this.colorBox.position.height}set colorBoxHeight(t){this.colorBox.position.height=t}doToData(t){super.doToData(t),CDataClass.putData(t,"hueBoxResource",this.hueBoxResource,""),CDataClass.putData(t,"opacityControlResource",this.opacityControlResource,""),CDataClass.putData(t,"textBoxResource",this.textBoxResource,""),CDataClass.putData(t,"opacityControlHeight",this.opacityControlHeight,20),CDataClass.putData(t,"textBoxHeight",this.textBoxHeight,25),CDataClass.putData(t,"colorBoxHeight",this.colorBoxHeight,50),CDataClass.putData(t,"color",this.color,"rgba(255,255,255,1)"),CDataClass.putData(t,"hueBox",this.hueBox.toData(),{},!0),CDataClass.putData(t,"textBox",this.textBox.toData(),{},!0),CDataClass.putData(t,"colorBox",this.colorBox.toData(),{},!0),CDataClass.putData(t,"opacityControl",this.opacityControl.toData(),{},!0)}doFromData(t){super.doFromData(t),this.hueBoxResource=CDataClass.getData(t,"hueBoxResource",""),this.opacityControlResource=CDataClass.getData(t,"opacityControlResource",""),this.textBoxResource=CDataClass.getData(t,"textBoxResource",""),this.opacityControlHeight=CDataClass.getData(t,"opacityControlHeight",20),this.textBoxHeight=CDataClass.getData(t,"textBoxHeight",25),this.colorBoxHeight=CDataClass.getData(t,"colorBoxHeight",50),this.color=CDataClass.getData(t,"color","rgba(255,255,255,1)"),this.hueBox.fromData(CDataClass.getData(t,"hueBox",{},!0)),this.textBox.fromData(CDataClass.getData(t,"textBox",{},!0)),this.colorBox.fromData(CDataClass.getData(t,"colorBox",{},!0)),this.opacityControl.fromData(CDataClass.getData(t,"opacityControl",{},!0))}doChangeColor(){if("hueBox"!=this.__changer&&(this.hueBox.color=this.color),"opacityControl"!=this.__changer){let t=new CColor(this.color);this.opacityControl.valueRatio=t.a}"textBox"!=this.__changer&&(this.textBox.text=this.color),this.colorBox.color=this.color,null!=this.onChangeColor&&this.onChangeColor(this)}}class CColorSelector extends CColorSelectorModel{constructor(t,o){super(t,o),this.resource="colorselector16.control"}}class CSelectArea extends CPanel{constructor(t,o){super(t,o),this.__prePoint=new CPoint,this._selectAreaResource="",this._useSelectArea=!0,this.selectArea=new CPanel(this)}get selectAreaResource(){return this._selectAreaResource}set selectAreaResource(t){this._selectAreaResource!=t&&(this._selectAreaResource=t,""!=t&&(this.selectArea.resource=t))}get useSelectArea(){return this._useSelectArea}set useSelectArea(t){this._useSelectArea!=t&&(this._useSelectArea=t)}doToData(t){super.doToData(t),CDataClass.putData(t,"selectAreaResource",this.selectAreaResource,""),CDataClass.putData(t,"useSelectArea",this.useSelectArea,!0),CDataClass.putData(t,"selectArea",this.selectArea.toData(),{},!0)}doFromData(t){super.doFromData(t),this.selectAreaResource=CDataClass.getData(t,"selectAreaResource",""),this.useSelectArea=CDataClass.getData(t,"useSelectArea",!0),this.selectArea.fromData(CDataClass.getData(t,"selectArea",{},!0))}setSelected(t){let o=Math.min(this.__prePoint.x,t.x),e=Math.min(this.__prePoint.y,t.y),i=Math.max(this.__prePoint.x,t.x),s=Math.max(this.__prePoint.y,t.y);this.selectArea.position.left=o,this.selectArea.position.top=e,this.selectArea.position.width=i-o,this.selectArea.position.height=s-e,this.doTrackSelectArea(new CPoint(o,e),new CPoint(i,s))}doThisPointerDown(t,o){super.doThisPointerDown(t,o),this.useSelectArea&&(this.__prePoint.x=t.offsetX,this.__prePoint.y=t.offsetY,this.selectArea.position.left=t.offsetX,this.selectArea.position.top=t.offsetY,this.selectArea.position.width=0,this.selectArea.position.height=0,this.selectArea.visible=!0,this.selectArea.bringToFront())}doThisPointerMove(t,o){super.doThisPointerMove(t,o),this.isPress&&this.useSelectArea&&this.setSelected(new CPoint(t.offsetX,t.offsetY))}doThisPointerUp(t,o){if(super.doThisPointerUp(t,o),this.useSelectArea){let o=Math.min(this.__prePoint.x,t.offsetX),e=Math.min(this.__prePoint.y,t.offsetY),i=Math.max(this.__prePoint.x,t.offsetX),s=Math.max(this.__prePoint.y,t.offsetY);this.selectArea.visible=!1,this.doSelectArea(new CPoint(o,e),new CPoint(i,s))}}doTrackSelectArea(t,o){null!=this.onTrackSelectArea&&this.onTrackSelectArea(this,t,o)}doSelectArea(t,o){null!=this.onSelectArea&&this.onSelectArea(this,t,o)}}class CSelectPoint extends CPanel{constructor(){super(...arguments),this.magneticPoint=new CList}doBeforeMove(t,o,e){return new CPoint(o,e)}}class CControlPositionEditor extends CPanel{constructor(){super(...arguments),this.l1=new CPanel(this),this.lblLeft=new CPanel(this.l1),this.edtLeft=new CTextBox(this.l1),this.l2=new CPanel(this),this.lblTop=new CPanel(this.l2),this.edtTop=new CTextBox(this.l2),this.l3=new CPanel(this),this.lblWidth=new CPanel(this.l3),this.edtWidth=new CTextBox(this.l3),this.l4=new CPanel(this),this.lblHeight=new CPanel(this.l4),this.edtHeight=new CTextBox(this.l4),this.btnPosition=new CButton(this)}doToData(t){super.doToData(t),CDataClass.putData(t,"l1",this.l1.toData(),{},!0),CDataClass.putData(t,"lblLeft",this.lblLeft.toData(),{},!0),CDataClass.putData(t,"edtLeft",this.edtLeft.toData(),{},!0),CDataClass.putData(t,"l2",this.l2.toData(),{},!0),CDataClass.putData(t,"lblTop",this.lblTop.toData(),{},!0),CDataClass.putData(t,"edtTop",this.edtTop.toData(),{},!0),CDataClass.putData(t,"l3",this.l3.toData(),{},!0),CDataClass.putData(t,"lblWidth",this.lblWidth.toData(),{},!0),CDataClass.putData(t,"edtWidth",this.edtWidth.toData(),{},!0),CDataClass.putData(t,"l4",this.l4.toData(),{},!0),CDataClass.putData(t,"lblHeight",this.lblHeight.toData(),{},!0),CDataClass.putData(t,"edtHeight",this.edtHeight.toData(),{},!0),CDataClass.putData(t,"btnPosition",this.btnPosition.toData(),{},!0)}doFromData(t){super.doFromData(t),this.l1.fromData(CDataClass.getData(t,"l1",{},!0)),this.lblLeft.fromData(CDataClass.getData(t,"lblLeft",{},!0)),this.edtLeft.fromData(CDataClass.getData(t,"edtLeft",{},!0)),this.l2.fromData(CDataClass.getData(t,"l2",{},!0)),this.lblTop.fromData(CDataClass.getData(t,"lblTop",{},!0)),this.edtTop.fromData(CDataClass.getData(t,"edtTop",{},!0)),this.l3.fromData(CDataClass.getData(t,"l3",{},!0)),this.lblWidth.fromData(CDataClass.getData(t,"lblWidth",{},!0)),this.edtWidth.fromData(CDataClass.getData(t,"edtWidth",{},!0)),this.l4.fromData(CDataClass.getData(t,"l4",{},!0)),this.lblHeight.fromData(CDataClass.getData(t,"lblHeight",{},!0)),this.edtHeight.fromData(CDataClass.getData(t,"edtHeight",{},!0)),this.btnPosition.fromData(CDataClass.getData(t,"btnPosition",{},!0))}}class CControlSelector extends CPanel{constructor(t,o){super(t,o),this.pop=new CPickupControl}get control(){return this._control}set control(t){this._control!=t&&(this._control=t,null!=this._control&&(this.parent=this._control.parent,this.position.fromData(this._control.position.toData())))}get downPoint(){return this.__downMovePoint}doChangeSize(){null!=this.control&&this.control.position.fromData(this.position.toData()),super.doChangeSize()}doChangePosition(t,o){null!=this.control&&this.control.position.fromData(this.position.toData()),super.doChangePosition(t,o)}doThisPointerUp(t,o){super.doThisPointerUp(t,o);let e=this;2==t.button&&CPickupControl.showPickup("empty.control",this,t.offsetX,t.offsetY,300,105,function(t){let o=new CControlPositionEditor(t);o.resource="control_position_editor.control",o.position.align=EPositionAlign.CLIENT,o.edtLeft.text=e.position.left+"",o.edtTop.text=e.position.top+"",o.edtWidth.text=e.position.width+"",o.edtHeight.text=e.position.height+"",o.btnPosition.onClick=function(){e.position.left=parseFloat(o.edtLeft.text),e.position.top=parseFloat(o.edtTop.text),e.position.width=parseFloat(o.edtWidth.text),e.position.height=parseFloat(o.edtHeight.text)}})}showSelector(){null!=this.control&&(this.position.fromData(this.control.position.toData()),this.visible=!0,this.bringToFront())}getBounds(){return new CRect(this.position.left,this.position.top,this.position.left+this.position.width,this.position.top+this.position.height)}static showSelector(t,o){let e=new CControlSelector;return e.resource=null!=o?o:"controlSelector.control",e.control=t,e.bringToFront(),e}}class CControlSelectorRotate extends CControlSelector{constructor(t,o){super(t,o),this.__centerDown=!1,this.__downRotationHandle=!1,this.__rotationDownPoint=new CPoint,this.rotationCenterHandle=new CPanel(this),this.rotationHandle=new CPanel(this);let e=this;this.rotationCenterHandle.onThisPointerDown=function(){e.__centerDown=!0},this.rotationCenterHandle.onThisPointerMove=function(t,o,i){e.__centerDown&&e.doCenterHandleMove(o)},this.rotationCenterHandle.onThisPointerUp=function(t,o,i){e.__centerDown=!1},this.rotationHandle.onThisPointerDown=function(t,o,i){let s=e.rotationCenterHandle.controlElement.getBoundingClientRect();e.__rotationDownPoint=new CPoint(s.x+s.width/2,s.y+s.height/2),e.__downRotationHandle=!0,e.doBeforeRotation(o)},this.rotationHandle.onThisPointerMove=function(t,o,i){e.__downRotationHandle&&e.doRotation(o)},this.rotationHandle.onThisPointerUp=function(t,o,i){e.__downRotationHandle=!1,e.doAfterRotation(o)}}doToData(t){super.doToData(t),CDataClass.putData(t,"rotationHandle",this.rotationHandle.toData(),{},!0),CDataClass.putData(t,"rotationCenterHandle",this.rotationCenterHandle.toData(),{},!0)}doFromData(t){super.doFromData(t),this.rotationHandle.fromData(CDataClass.getData(t,"rotationHandle",{},!0)),this.rotationCenterHandle.fromData(CDataClass.getData(t,"rotationCenterHandle",{},!0))}doChangeSize(){super.doChangeSize(),this.rotationHandle.position.left=this.position.width+10,this.rotationHandle.position.top=this.position.height/2-this.rotationHandle.position.height/2,this.rotationCenterHandle.position.left=this.position.width*this.transform.rotationPointX-this.rotationCenterHandle.position.width/2,this.rotationCenterHandle.position.top=this.position.height*this.transform.rotationPointY-this.rotationCenterHandle.position.height/2}doCenterHandleMove(t){t.shiftKey&&(this.rotationCenterHandle.position.left=5*Math.floor(this.rotationCenterHandle.position.left/5),this.rotationCenterHandle.position.top=5*Math.floor(this.rotationCenterHandle.position.top/5)),this.transform.rotationPointX=(this.rotationCenterHandle.position.left+this.rotationCenterHandle.position.width/2)/this.position.width,this.transform.rotationPointY=(this.rotationCenterHandle.position.top+this.rotationCenterHandle.position.height/2)/this.position.height,null!=this.onCenterHandleMove&&this.onCenterHandleMove(this)}doBeforeRotation(t){null!=this.onBeforeRotation&&this.onBeforeRotation(this,t)}doRotation(t){let o=CPoint.getAngleFromTwoPoint(this.__rotationDownPoint,new CPoint(t.pageX,t.pageY));t.shiftKey&&(o=5*Math.floor(o/5)),this.transform.rotateZ=o,null!=this.onRotation&&this.onRotation(this,t)}doAfterRotation(t){null!=this.onAfterRotation&&this.onAfterRotation(this,t)}doKeyDown(t){super.doKeyDown(t),"ArrowUp"==t.key&&(t.shiftKey?this.position.height--:this.position.top--),"ArrowDown"==t.key&&(t.shiftKey?this.position.height++:this.position.top++),"ArrowLeft"==t.key&&(t.shiftKey?this.position.width--:this.position.left--),"ArrowRight"==t.key&&(t.shiftKey?this.position.width++:this.position.left++)}}class CPathSelector extends CControlSelectorRotate{}class CControlSelectorAtypical extends CControlSelectorRotate{constructor(){super(...arguments),this.handleLeftTop=new CPanel(this),this.handleRightTop=new CPanel(this),this.handleLeftLeftBottom=new CPanel(this),this.handleRightBottom=new CPanel(this)}}class CProgress extends CPanel{}class CDial extends CPanel{}class CFillControl extends CPanel{}class CStrokeControl extends CFillControl{}class CTextSetControl extends CPanel{}class CFilterControl extends CPanel{}class CFold extends CPanel{constructor(t,o){super(t,o),this.__orgHeight=0,this._folded=!1,this.caption=new CPanel(this),this.btnFold=new CButton(this.caption),this.body=new CPanel(this);let e=this;this.btnFold.onClick=function(){e.folded=!e.folded},this.caption.onClick=function(){e.folded=!e.folded}}get folded(){return this._folded}set folded(t){this._folded!=t&&(this._folded=t,this.doChangeFolded())}doToData(t){super.doToData(t),CDataClass.putData(t,"caption",this.caption.toData(),{},!0),CDataClass.putData(t,"btnFold",this.btnFold.toData(),{},!0),CDataClass.putData(t,"body",this.body.toData(),{},!0),CDataClass.putData(t,"folded",this.folded,!1),null!=this.foldAnimationTrigger&&CDataClass.putData(t,"foldAnimationTrigger",this.foldAnimationTrigger.toData(),{},!0)}doFromData(t){super.doFromData(t),this.caption.fromData(CDataClass.getData(t,"caption",{},!0)),this.btnFold.fromData(CDataClass.getData(t,"btnFold",{},!0)),this.body.fromData(CDataClass.getData(t,"body",{},!0)),this.folded=CDataClass.getData(t,"folded",!1),CAnimator.fromAnimatorData(t,this,"foldAnimationTrigger")}doChangeFolded(){null!=this.foldAnimationTrigger?this.folded?this.triggerTrue(this.foldAnimationTrigger):this.triggerFalse(this.foldAnimationTrigger):this.folded?(this.__orgHeight=this.position.height,this.position.height=this.caption.position.height):this.position.height=this.__orgHeight,null!=this.onChangeFolded&&this.onChangeFolded(this)}addProperties(){let t=super.addProperties();return t.push({instance:this.foldAnimationTrigger,propertyName:"foldAnimationTrigger",readOnly:!1,enum:[]}),t}}class CPathPointSelectorModel extends CClass{constructor(t,o,e){super(),this.point=new CPanel,this.isUpdate=!0,this.alignPixel=0,this.pointResource="",this.cpoint1Resource="",this.cpoint2Resource="",this.pointResource=t,this.cpoint1Resource=o,this.cpoint2Resource=e,this.point.resource=this.pointResource,this.point.position.width=10,this.point.position.height=10,this.point.useMove=!0}get pathPoint(){return this._pathPoint}set pathPoint(t){if(t!=this._pathPoint&&(this._pathPoint=t,null!=this._pathPoint)){this.point.position.left=this._pathPoint.point.x-5,this.point.position.top=this._pathPoint.point.y-5;let t=this;this.point.onChangeOffset=function(){null!=t._pathPoint&&t.isUpdate&&(0==t.alignPixel?(t._pathPoint.point.x=t.point.position.left+5,t._pathPoint.point.y=t.point.position.top+5):(t._pathPoint.point.x=Math.round((t.point.position.left+5)/t.alignPixel)*t.alignPixel,t._pathPoint.point.y=Math.round((t.point.position.top+5)/t.alignPixel)*t.alignPixel),null!=t._parent&&t._parent.draw())},this._pathPoint.pointKind==EPathPointKind.CURVETO2&&(this.cpoint1=new CPanel(this._parent),this.cpoint1.resource=this.cpoint1Resource,this.cpoint1.position.left=this._pathPoint.cPoint1.x-3,this.cpoint1.position.top=this._pathPoint.cPoint1.y-3,this.cpoint1.position.width=6,this.cpoint1.position.height=6,this.cpoint1.useMove=!0,this.cpoint1.onChangeOffset=function(){null!=t._pathPoint&&null!=t.cpoint1&&t.isUpdate&&(0==t.alignPixel?(t._pathPoint.cPoint1.x=t.cpoint1.position.left+3,t._pathPoint.cPoint1.y=t.cpoint1.position.top+3):(t._pathPoint.cPoint1.x=Math.round((t.cpoint1.position.left+3)/t.alignPixel)*t.alignPixel,t._pathPoint.cPoint1.y=Math.round((t.cpoint1.position.top+3)/t.alignPixel)*t.alignPixel),t._pathPoint.doChange(),null!=t._parent&&t._parent.draw())}),this._pathPoint.pointKind==EPathPointKind.CURVETO3&&(this.cpoint1=new CPanel(this._parent),this.cpoint1.resource=this.cpoint1Resource,this.cpoint1.position.left=this._pathPoint.cPoint1.x-3,this.cpoint1.position.top=this._pathPoint.cPoint1.y-3,this.cpoint1.position.width=6,this.cpoint1.position.height=6,this.cpoint1.useMove=!0,this.cpoint1.onChangeOffset=function(){null!=t._pathPoint&&null!=t.cpoint1&&t.isUpdate&&(0==t.alignPixel?(t._pathPoint.cPoint1.x=t.cpoint1.position.left+3,t._pathPoint.cPoint1.y=t.cpoint1.position.top+3):(t._pathPoint.cPoint1.x=Math.round((t.cpoint1.position.left+3)/t.alignPixel)*t.alignPixel,t._pathPoint.cPoint1.y=Math.round((t.cpoint1.position.top+3)/t.alignPixel)*t.alignPixel),t._pathPoint.doChange(),null!=t._parent&&t._parent.draw())},this.cpoint2=new CPanel(this._parent),this.cpoint2.resource=this.cpoint2Resource,this.cpoint2.position.left=this._pathPoint.cPoint2.x-3,this.cpoint2.position.top=this._pathPoint.cPoint2.y-3,this.cpoint2.position.width=6,this.cpoint2.position.height=6,this.cpoint2.useMove=!0,this.cpoint2.onChangeOffset=function(){null!=t._pathPoint&&null!=t.cpoint2&&t.isUpdate&&(0==t.alignPixel?(t._pathPoint.cPoint2.x=t.cpoint2.position.left+3,t._pathPoint.cPoint2.y=t.cpoint2.position.top+3):(t._pathPoint.cPoint2.x=Math.round((t.cpoint2.position.left+3)/t.alignPixel)*t.alignPixel,t._pathPoint.cPoint2.y=Math.round((t.cpoint2.position.top+3)/t.alignPixel)*t.alignPixel),t._pathPoint.doChange(),null!=t._parent&&t._parent.draw())})}}get parent(){return this._parent}set parent(t){t!=this._parent&&(this._parent=t,this.point.parent=t)}}class CPathPointControlArea extends CControlSelector{constructor(){super(...arguments),this._orgPosition=new CRect,this._orgPoints=new Array,this._points=new Array}doChangeOffset(){super.doChangeOffset(),this.visible&&this.doSetPoints()}doChangeSize(){super.doChangeSize(),this.visible&&this.doSetPoints()}doKeyDown(t){super.doKeyDown(t),"Delete"==t.key&&this.doDeletePoints()}doWheel(t){super.doWheel(t),console.log(t.deltaY)}doSetPoints(){for(let t=0;t<this._orgPoints.length;t++){let o=this._orgPoints[t].x+(this.position.left-this._orgPosition.left),e=this._orgPoints[t].y+(this.position.top-this._orgPosition.top),i=o-this.position.left,s=e-this.position.top;o=this.position.left+i*(this.position.width/this._orgPosition.width),e=this.position.top+s*(this.position.height/this._orgPosition.height),this._points[t].isCurveControl?(this._points[t].handle.position.left=o-3,this._points[t].handle.position.top=e-3):(this._points[t].handle.position.left=o-5,this._points[t].handle.position.top=e-5)}null!=this.onSetPoints&&this.onSetPoints(this)}doDeletePoints(){if(null!=this._pathPoints){for(let t=0;t<this._points.length;t++)if(!this._points[t].isCurveControl)for(let o=0;o<this._pathPoints.length;o++)this._points[t].point==this._pathPoints.get(o).point&&this._pathPoints.deletePoint(o);null!=this.onDelete&&this.onDelete(this)}}showArea(t,o,e,i,s,n){this.position.left=t,this.position.top=o,this.position.width=e,this.position.height=i,this._orgPosition.left=this.position.left,this._orgPosition.top=this.position.top,this._orgPosition.width=this.position.width,this._orgPosition.height=this.position.height,this._orgPoints=[],this._points=[],this._pathPoints=s;for(let t=0;t<n.length;t++){let o=n[t].point.copyTo();this._orgPoints.push(o),this._points.push(n[t])}this.visible=!0}copyPoints(){}}class CGuideLine extends CResourceClass{constructor(){super(...arguments),this._kind="y"}}class CPathEditorControl extends CSelectArea{constructor(t,o){super(t,o),this.__points=new CList,this._mode="None",this._pointResource="",this._cpoint1Resource="",this._cpoint2Resource="",this.pathPointControlArea=new CPathPointControlArea(this);let e=this;this.pathPointControlArea.onDelete=function(){e.pathPointControlArea.visible=!1,e.refresh()}}get mode(){return this._mode}set mode(t){this._mode!=t&&(this._mode=t,this.doChangeMode())}get pathPointList(){return this._pathPointList}set pathPointList(t){this._pathPointList=t,null!=this._pathPointList&&this.refresh()}get pointResource(){return this._pointResource}set pointResource(t){this._pointResource=t}get cpoint1Resource(){return this._cpoint1Resource}set cpoint1Resource(t){this._cpoint1Resource=t}get cpoint2Resource(){return this._cpoint2Resource}set cpoint2Resource(t){this._cpoint2Resource=t}get points(){return this.__points}doToData(t){super.doToData(t),CDataClass.putData(t,"pointResource",this.pointResource,""),CDataClass.putData(t,"cpoint1Resource",this.cpoint1Resource,""),CDataClass.putData(t,"cpoint2Resource",this.cpoint2Resource,""),CDataClass.putData(t,"pathPointControlArea",this.pathPointControlArea.toData(),{},!0)}doFromData(t){super.doFromData(t),this.pointResource=CDataClass.getData(t,"pointResource",""),this.cpoint1Resource=CDataClass.getData(t,"cpoint1Resource",""),this.cpoint2Resource=CDataClass.getData(t,"cpoint2Resource",""),this.pathPointControlArea.fromData(CDataClass.getData(t,"pathPointControlArea",{},!0))}doThisPointerDown(t,o){if(super.doThisPointerDown(t,o),null!=this._pathPointList&&0==t.button){if("None"==this._mode&&(this.pathPointControlArea.visible=!1),"MoveTo"==this._mode){let o=CPoint.create(t.offsetX,t.offsetY),e=this._pathPointList.addPointMoveTo(o);this.__prePathPoint=o;let i=new CPathPointSelectorModel(this.pointResource,this.cpoint1Resource,this.cpoint2Resource);i.parent=this,i.pathPoint=e,this.__points.add(i)}if("LineTo"==this._mode){let o=CPoint.create(t.offsetX,t.offsetY),e=this._pathPointList.addPointLineTo(CPoint.create(t.offsetX,t.offsetY));this.__prePathPoint=o;let i=new CPathPointSelectorModel(this.pointResource,this.cpoint1Resource,this.cpoint2Resource);i.parent=this,i.pathPoint=e,this.__points.add(i)}if("CurveTo"==this._mode){let o=CPoint.create(t.offsetX,t.offsetY);if(null!=this.__prePathPoint){let t=CPoint.getDistancePoints(o,this.__prePathPoint),e=CPoint.getLineMiddlePoint(this.__prePathPoint,o,CCalc.crRange2Value(0,t,t/3,0,1)),i=CPoint.getLineMiddlePoint(this.__prePathPoint,o,CCalc.crRange2Value(0,t,t/3*2,0,1)),s=this._pathPointList.addPointCurveTo3(o,e,i);this.__prePathPoint=o;let n=new CPathPointSelectorModel(this.pointResource,this.cpoint1Resource,this.cpoint2Resource);n.parent=this,n.pathPoint=s,this.__points.add(n)}else{let t=this._pathPointList.addPointCurveTo3(o,o,o);this.__prePathPoint=o;let e=new CPathPointSelectorModel(this.pointResource,this.cpoint1Resource,this.cpoint2Resource);e.parent=this,e.pathPoint=t,this.__points.add(e)}}}}doKeyDown(t){super.doKeyDown(t),"N"==t.key.toUpperCase()&&(this.mode="None"),"M"==t.key.toUpperCase()&&(this.mode="MoveTo"),"L"==t.key.toUpperCase()&&(this.mode="LineTo"),"V"==t.key.toUpperCase()&&(this.mode="CurveTo"),"E"==t.key.toUpperCase()&&(this.mode="AddEllipse"),"C"==t.key.toUpperCase()&&null!=this.pathPointList&&this.pathPointList.addPointClose()}showArea(t,o){let e=new Array;if(null!=this.pathPointList){let i=new CRect(t.x,t.y,o.x,o.y);for(let t=0;t<this.__points.length;t++){let o=this.__points.get(t).pathPoint;if(null!=o){if(i.isIn(o.point.x,o.point.y)&&e.push({point:o.point,handle:this.__points.get(t).point,isCurveControl:!1}),i.isIn(o.cPoint1.x,o.cPoint1.y)){let i=this.__points.get(t).cpoint1;null!=i&&e.push({point:o.cPoint1,handle:i,isCurveControl:!0})}if(i.isIn(o.cPoint2.x,o.cPoint2.y)){let i=this.__points.get(t).cpoint2;null!=i&&e.push({point:o.cPoint2,handle:i,isCurveControl:!0})}}}}this.pathPointControlArea.showArea(t.x,t.y,o.x-t.x,o.y-t.y,this.pathPointList,e),this.pathPointControlArea.focused=!0}doSelectArea(t,o){super.doSelectArea(t,o),"None"==this.mode&&this.showArea(t,o),"AddEllipse"==this.mode&&null!=this.pathPointList&&(this.pathPointList.makeEllipseData(t.x,t.y,o.x-t.x,o.y-t.y,!1),this.refresh(),this.showArea(t,o))}doChangeMode(){this.pathPointControlArea.visible=!1,"None"==this.mode||"AddEllipse"==this.mode?this.useSelectArea=!0:this.useSelectArea=!1}deletePoint(t){if(null!=this._pathPointList){for(let o=0;o<this.__points.length;o++)if(this.__points.get(o).pathPoint==t){this.__points.get(o).point.remove();let t=this.__points.get(o).cpoint1;null!=t&&t.remove();let e=this.__points.get(o).cpoint2;null!=e&&e.remove(),this.__points.delete(o);break}for(let o=0;o<this._pathPointList.length;o++)if(this._pathPointList.get(o)==t){this._pathPointList.delete(o);break}}}clearPoints(){for(let t=0;t<this.__points.length;t++){this.__points.get(t).point.remove();let o=this.__points.get(t).cpoint1;null!=o&&o.remove();let e=this.__points.get(t).cpoint2;null!=e&&e.remove()}this.__points.clear()}reCreatePoints(){if(null!=this.pathPointList){this.clearPoints();for(let t=0;t<this.pathPointList.length;t++){if(this.pathPointList.get(t).pointKind==EPathPointKind.MOVETO){let o=new CPathPointSelectorModel(this.pointResource,this.cpoint1Resource,this.cpoint2Resource);o.parent=this,o.pathPoint=this.pathPointList.get(t),this.__points.add(o)}if(this.pathPointList.get(t).pointKind==EPathPointKind.LINETO){let o=new CPathPointSelectorModel(this.pointResource,this.cpoint1Resource,this.cpoint2Resource);o.parent=this,o.pathPoint=this.pathPointList.get(t),this.__points.add(o)}if(this.pathPointList.get(t).pointKind==EPathPointKind.CURVETO2){let o=new CPathPointSelectorModel(this.pointResource,this.cpoint1Resource,this.cpoint2Resource);o.parent=this,o.pathPoint=this.pathPointList.get(t),this.__points.add(o)}if(this.pathPointList.get(t).pointKind==EPathPointKind.CURVETO3){let o=new CPathPointSelectorModel(this.pointResource,this.cpoint1Resource,this.cpoint2Resource);o.parent=this,o.pathPoint=this.pathPointList.get(t),this.__points.add(o)}}}}refreshPoints(){for(let t=0;t<this.__points.length;t++){let o=this.__points.get(t).pathPoint;if(null!=o){this.__points.get(t).isUpdate=!1,this.__points.get(t).point.position.left=o.point.x-5,this.__points.get(t).point.position.top=o.point.y-5;let e=this.__points.get(t).cpoint1;null!=e&&(e.position.left=o.cPoint1.x-3,e.position.top=o.cPoint1.y-3);let i=this.__points.get(t).cpoint2;null!=i&&(i.position.left=o.cPoint2.x-3,i.position.top=o.cPoint2.y-3),this.__points.get(t).isUpdate=!0}}}setAlignPixel(){}clear(){null!=this.pathPointList&&(this.pathPointList.clear(),this.clearPoints())}refresh(){if(null!=this.pathPointList){this.reCreatePoints();for(let t=0;t<this.pathPointList.length;t++){let o="";this.pathPointList.get(t).pointKind==EPathPointKind.BEGIN?o="B":this.pathPointList.get(t).pointKind==EPathPointKind.MOVETO?o="M":this.pathPointList.get(t).pointKind==EPathPointKind.LINETO?o="L":this.pathPointList.get(t).pointKind==EPathPointKind.CURVETO2||this.pathPointList.get(t).pointKind==EPathPointKind.CURVETO3?o="C":this.pathPointList.get(t).pointKind==EPathPointKind.CLOSE&&(o="CL")}}}}