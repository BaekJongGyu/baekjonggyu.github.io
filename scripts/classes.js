"use strict";var EPositionAlign,EPositionUnit,EFitMode;!function(t){t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.TOP=2]="TOP",t[t.RIGHT=3]="RIGHT",t[t.BOTTOM=4]="BOTTOM",t[t.CLIENT=5]="CLIENT",t[t.FLOW=6]="FLOW",t[t.CENTER=7]="CENTER",t[t.LEFTTOP=8]="LEFTTOP",t[t.RIGHTTOP=9]="RIGHTTOP",t[t.LEFTBOTTOM=10]="LEFTBOTTOM",t[t.RIGHTBOTTOM=11]="RIGHTBOTTOM",t[t.MIDDLELEFT=12]="MIDDLELEFT",t[t.MIDDLETOP=13]="MIDDLETOP",t[t.MIDDLERIGHT=14]="MIDDLERIGHT",t[t.MIDDLEBOTTOM=15]="MIDDLEBOTTOM",t[t.HCENTER=16]="HCENTER",t[t.VCENTER=17]="VCENTER",t[t.TURN=18]="TURN",t[t.PATHDATA=19]="PATHDATA",t[t.GRID=20]="GRID",t[t.PARENT_SIZE=21]="PARENT_SIZE"}(EPositionAlign||(EPositionAlign={})),function(t){t[t.PIXEL=0]="PIXEL",t[t.PERCENT=1]="PERCENT"}(EPositionUnit||(EPositionUnit={})),function(t){t[t.ORIGINAL=0]="ORIGINAL",t[t.FIT=1]="FIT",t[t.STRETCH=2]="STRETCH"}(EFitMode||(EFitMode={}));class CPositionAlignInfo extends CNotifyChangeKindObject{constructor(){super(...arguments),this._turnAngle=0,this._turnRadiusX=0,this._turnRadiusY=0,this._pathMiddleValue=0,this._gridColumn=0,this._gridRow=0,this._gridRowHeight=0}static get CON_CHANGE_TURN_ANGLE(){return"changeTurnAngle"}static get CON_CHANGE_TURN_RADIUS_X(){return"changeTurnRadiusX"}static get CON_CHANGE_TURN_RADIUS_Y(){return"changeTurnRadiusY"}static get CON_CHANGE_PATH_MIDDLE_VALUE(){return"changePathMiddleValue"}static get CON_CHANGE_GRID_COLUMN(){return"changeGridColumn"}static get CON_CHANGE_GRID_ROW(){return"changeGridRow"}static get CON_CHANGE_GRID_ROW_HEIGHT(){return"changeGridRowHeight"}static get CON_CHANGE_UNIT(){return"changeUnit"}get turnAngle(){return this._turnAngle}set turnAngle(t){t!=this.turnAngle&&(this._turnAngle=t,this.doChange(CPositionAlignInfo.CON_CHANGE_TURN_ANGLE))}get turnRadiusX(){return this._turnRadiusX}set turnRadiusX(t){t!=this._turnRadiusX&&(this._turnRadiusX=t,this.doChange(CPositionAlignInfo.CON_CHANGE_TURN_RADIUS_X))}get turnRadiusY(){return this._turnRadiusY}set turnRadiusY(t){t!=this._turnRadiusY&&(this._turnRadiusY=t,this.doChange(CPositionAlignInfo.CON_CHANGE_TURN_RADIUS_Y))}get pathMiddleValue(){return this._pathMiddleValue}set pathMiddleValue(t){t!=this._pathMiddleValue&&(this._pathMiddleValue=t,this.doChange(CPositionAlignInfo.CON_CHANGE_PATH_MIDDLE_VALUE))}get gridColumn(){return this._gridColumn}set gridColumn(t){t!=this._gridColumn&&(this._gridColumn=t,this.doChange(CPositionAlignInfo.CON_CHANGE_GRID_COLUMN))}get gridRow(){return this._gridRow}set gridRow(t){t!=this._gridRow&&(this._gridRow=t,this.doChange(CPositionAlignInfo.CON_CHANGE_GRID_ROW))}get gridRowHeight(){return this._gridRowHeight}set gridRowHeight(t){t!=this._gridRowHeight&&(this._gridRowHeight=t,this.doChange(CPositionAlignInfo.CON_CHANGE_GRID_ROW_HEIGHT))}doToData(t){super.doToData(t),CDataClass.putData(t,"turnAngle",this.turnAngle,0),CDataClass.putData(t,"turnRadiusX",this.turnRadiusX,0),CDataClass.putData(t,"turnRadiusY",this.turnRadiusY,0),CDataClass.putData(t,"pathMiddleValue",this.pathMiddleValue,0),CDataClass.putData(t,"gridColumn",this.gridColumn,0),CDataClass.putData(t,"gridRow",this.gridRow,0),CDataClass.putData(t,"gridRowHeight",this.gridRowHeight,0)}doFromData(t){super.doFromData(t),this.turnAngle=CDataClass.getData(t,"turnAngle",0),this.turnRadiusX=CDataClass.getData(t,"turnRadiusX",0),this.turnRadiusY=CDataClass.getData(t,"turnRadiusY",0),this.pathMiddleValue=CDataClass.getData(t,"pathMiddleValue",0),this.gridColumn=CDataClass.getData(t,"gridColumn",0),this.gridRow=CDataClass.getData(t,"gridRow",0),this.gridRowHeight=CDataClass.getData(t,"gridRowHeight",0)}copyFrom(t){this.turnAngle=t.turnAngle,this.turnRadiusX=t.turnRadiusX,this.turnRadiusY=t.turnRadiusY,this.pathMiddleValue=t.pathMiddleValue,this.gridColumn=t.gridColumn,this.gridRow=t.gridRow,this.gridRowHeight=t.gridRowHeight}}class CPositionParentAlignInfo extends CNotifyChangeKindObject{constructor(){super(),this._marginX=0,this._marginY=0,this._gridColumnCount=5,this._gridRowCount=-1,this._turnCenter=new CNotifyPoint(.5,.5),this._turnAutoSet=!1,this._turnAutoSetStartAngle=0,this._turnAutoSetStopAngle=360,this._turnAutoSetRadiusX=100,this._turnAutoSetRadiusY=100,this._pathData="",this._pathDataAutoSet=!1,this._pathDataFitMode=EFitMode.STRETCH,this._pathDataStartMiddleValue=0,this._pathDataStopMiddleValue=1;let t=this;this._turnCenter.onChange=function(a,i){t.doChange(CPositionParentAlignInfo.CON_CHANGE_TURN_CENTER)}}static get CON_CHANGE_MARGIN_X(){return"changeMarginX"}static get CON_CHANGE_MARGIN_Y(){return"changeMarginY"}static get CON_CHANGE_GRID_COLUMN_COUNT(){return"changeGridColumnCount"}static get CON_CHANGE_GRID_ROW_COUNT(){return"changeGridRowCount"}static get CON_CHANGE_TURN_CENTER(){return"changeTurnCenter"}static get CON_CHANGE_TURN_AUTO_SET(){return"changeTurnAutoSet"}static get CON_CHANGE_TURN_AUTO_SET_START_ANGLE(){return"changeTurnAutoSetStartAngle"}static get CON_CHANGE_TURN_AUTO_SET_STOP_ANGLE(){return"changeTurnAutoSetStopAngle"}static get CON_CHANGE_TURN_AUTO_SET_RADIUS_X(){return"changeTurnAutoSetRadiusX"}static get CON_CHANGE_TURN_AUTO_SET_RADIUS_Y(){return"changeTurnAutoSetRadiusY"}static get CON_CHANGE_PATH_DATA(){return"changePathData"}static get CON_CHANGE_PATH_DATA_AUTO_SET(){return"changePathDataAutoSet"}static get CON_CHANGE_PATH_DATA_FIT_MODE(){return"changePathDataFitMode"}static get CON_CHANGE_PATH_DATA_START_MIDDLE_VALUE(){return"changePathDataStartMiddleValue"}static get CON_CHANGE_PATH_DATA_STOP_MIDDLE_VALUE(){return"changePathDataStopMiddleValue"}get marginX(){return this._marginX}set marginX(t){t!=this._marginX&&(this._marginX=t,this.doChange(CPositionParentAlignInfo.CON_CHANGE_MARGIN_X))}get marginY(){return this._marginY}set marginY(t){t!=this._marginY&&(this._marginY=t,this.doChange(CPositionParentAlignInfo.CON_CHANGE_MARGIN_Y))}get gridColumnCount(){return this._gridColumnCount}set gridColumnCount(t){t!=this._gridColumnCount&&(this._gridColumnCount=t,this.doChange(CPositionParentAlignInfo.CON_CHANGE_GRID_COLUMN_COUNT))}get gridRowCount(){return this._gridRowCount}set gridRowCount(t){t!=this._gridRowCount&&(this._gridRowCount=t,this.doChange(CPositionParentAlignInfo.CON_CHANGE_GRID_ROW_COUNT))}get turnCenter(){return this._turnCenter}get turnAutoSet(){return this._turnAutoSet}set turnAutoSet(t){t!=this._turnAutoSet&&(this._turnAutoSet=t,this.doChange(CPositionParentAlignInfo.CON_CHANGE_TURN_AUTO_SET))}get turnAutoSetStartAngle(){return this._turnAutoSetStartAngle}set turnAutoSetStartAngle(t){t!=this._turnAutoSetStartAngle&&(this._turnAutoSetStartAngle=t,this.doChange(CPositionParentAlignInfo.CON_CHANGE_TURN_AUTO_SET_START_ANGLE))}get turnAutoSetStopAngle(){return this._turnAutoSetStopAngle}set turnAutoSetStopAngle(t){t!=this._turnAutoSetStopAngle&&(this._turnAutoSetStopAngle=t,this.doChange(CPositionParentAlignInfo.CON_CHANGE_TURN_AUTO_SET_STOP_ANGLE))}get turnAutoSetRadiusX(){return this._turnAutoSetRadiusX}set turnAutoSetRadiusX(t){t!=this._turnAutoSetRadiusX&&(this._turnAutoSetRadiusX=t,this.doChange(CPositionParentAlignInfo.CON_CHANGE_TURN_AUTO_SET_RADIUS_X))}get turnAutoSetRadiusY(){return this._turnAutoSetRadiusY}set turnAutoSetRadiusY(t){t!=this._turnAutoSetRadiusY&&(this._turnAutoSetRadiusY=t,this.doChange(CPositionParentAlignInfo.CON_CHANGE_TURN_AUTO_SET_RADIUS_Y))}set turnAutoSetRadius(t){this.turnAutoSetRadiusX=t,this.turnAutoSetRadiusY=t}get pathData(){return this._pathData}set pathData(t){t!=this._pathData&&(this._pathData=t,this.doChange(CPositionParentAlignInfo.CON_CHANGE_PATH_DATA))}get pathDataAutoSet(){return this._pathDataAutoSet}set pathDataAutoSet(t){t!=this._pathDataAutoSet&&(this._pathDataAutoSet=t,this.doChange(CPositionParentAlignInfo.CON_CHANGE_PATH_DATA_AUTO_SET))}get pathDataFitMode(){return this._pathDataFitMode}set pathDataFitMode(t){t!=this._pathDataFitMode&&(this._pathDataFitMode=t,this.doChange(CPositionParentAlignInfo.CON_CHANGE_PATH_DATA_FIT_MODE))}get pathDataStartMiddleValue(){return this._pathDataStartMiddleValue}set pathDataStartMiddleValue(t){t!=this._pathDataStartMiddleValue&&(this._pathDataStartMiddleValue=t,this.doChange(CPositionParentAlignInfo.CON_CHANGE_PATH_DATA_START_MIDDLE_VALUE))}get pathDataStopMiddleValue(){return this._pathDataStopMiddleValue}set pathDataStopMiddleValue(t){t!=this._pathDataStopMiddleValue&&(this._pathDataStopMiddleValue=t,this.doChange(CPositionParentAlignInfo.CON_CHANGE_PATH_DATA_STOP_MIDDLE_VALUE))}doToData(t){super.doToData(t),CDataClass.putData(t,"marginX",this.marginX,0),CDataClass.putData(t,"marginY",this.marginY,0),CDataClass.putData(t,"gridColumnCount",this.gridColumnCount,5),CDataClass.putData(t,"gridRowCount",this.gridRowCount,-1),CDataClass.putData(t,"turnCenter",this.turnCenter.toData(),{x:.5,y:.5},!0),CDataClass.putData(t,"turnAutoSet",this.turnAutoSet,!1),CDataClass.putData(t,"turnAutoSetStartAngle",this.turnAutoSetStartAngle,0),CDataClass.putData(t,"turnAutoSetStopAngle",this.turnAutoSetStopAngle,360),CDataClass.putData(t,"turnAutoSetRadiusX",this.turnAutoSetRadiusX,100),CDataClass.putData(t,"turnAutoSetRadiusY",this.turnAutoSetRadiusY,100),CDataClass.putData(t,"pathData",this.pathData,""),CDataClass.putData(t,"pathDataAutoSet",this.pathDataAutoSet,!1),CDataClass.putData(t,"pathDataFitMode",this.pathDataFitMode,EFitMode.STRETCH),CDataClass.putData(t,"pathDataStartMiddleValue",this.pathDataStartMiddleValue,0),CDataClass.putData(t,"pathDataStopMiddleValue",this.pathDataStopMiddleValue,1)}doFromData(t){super.doFromData(t),this.marginX=CDataClass.getData(t,"marginX",0),this.marginY=CDataClass.getData(t,"marginY",0),this.gridColumnCount=CDataClass.getData(t,"gridColumnCount",5),this.gridRowCount=CDataClass.getData(t,"gridRowCount",-1),this.turnCenter.fromData(CDataClass.getData(t,"turnCenter",{x:.5,y:.5},!0)),this.turnAutoSet=CDataClass.getData(t,"turnAutoSet",!1),this.turnAutoSetStartAngle=CDataClass.getData(t,"turnAutoSetStartAngle",0),this.turnAutoSetStopAngle=CDataClass.getData(t,"turnAutoSetStopAngle",360),this.turnAutoSetRadiusX=CDataClass.getData(t,"turnAutoSetRadiusX",100),this.turnAutoSetRadiusY=CDataClass.getData(t,"turnAutoSetRadiusY",100),this.pathData=CDataClass.getData(t,"pathData",""),this.pathDataAutoSet=CDataClass.getData(t,"pathDataAutoSet",!1),this.pathDataFitMode=CDataClass.getData(t,"pathDataFitMode",EFitMode.STRETCH),this.pathDataStartMiddleValue=CDataClass.getData(t,"pathDataStartMiddleValue",0),this.pathDataStopMiddleValue=CDataClass.getData(t,"pathDataStopMiddleValue",1)}copyFrom(t){this.marginX=t.marginX,this.marginY=t.marginY,this.gridColumnCount=t.gridColumnCount,this.gridRowCount=t.gridRowCount,this.turnCenter.x=t.turnCenter.x,this.turnCenter.y=t.turnCenter.y,this.turnAutoSet=t.turnAutoSet,this.turnAutoSetStartAngle=t.turnAutoSetStartAngle,this.turnAutoSetStopAngle=t.turnAutoSetStopAngle,this.turnAutoSetRadiusX=t.turnAutoSetRadiusX,this.turnAutoSetRadiusY=t.turnAutoSetRadiusY,this.pathData=t.pathData,this.pathDataAutoSet=t.pathDataAutoSet,this.pathDataFitMode=t.pathDataFitMode,this.pathDataStartMiddleValue=t.pathDataStartMiddleValue,this.pathDataStopMiddleValue=t.pathDataStopMiddleValue}}class CTransform extends CNotifyChangeKindObject{constructor(){super(...arguments),this._translateX=0,this._translateY=0,this._translateZ=0,this._scaleX=1,this._scaleY=1,this._scaleZ=1,this._rotationPointX=.5,this._rotationPointY=.5,this._rotationPointZ=0,this._rotateX=0,this._rotateY=0,this._rotateZ=0,this._perspective=1e3,this._perspectiveX=.5,this._perspectiveY=.5}static get CON_CHANGE_SCALE_X(){return"changeScaleX"}static get CON_CHANGE_SCALE_Y(){return"changeScaleY"}static get CON_CHANGE_SCALE_Z(){return"changeScaleZ"}static get CON_CHANGE_ROTATION_POINT_X(){return"changeRotaionPointX"}static get CON_CHANGE_ROTATION_POINT_Y(){return"changeRotaionPointY"}static get CON_CHANGE_ROTATION_POINT_Z(){return"changeRotaionPointZ"}static get CON_CHANGE_TRANSLATE_X(){return"changeTranslateX"}static get CON_CHANGE_TRANSLATE_Y(){return"changeTranslateY"}static get CON_CHANGE_TRANSLATE_Z(){return"changeTranslateZ"}static get CON_CHANGE_ROTATE_X(){return"changeRotateX"}static get CON_CHANGE_ROTATE_Y(){return"changeRotateY"}static get CON_CHANGE_ROTATE_Z(){return"changeRotateZ"}static get CON_CHANGE_PERSPECTIVE(){return"changePerspective"}static get CON_CHANGE_PERSPECTIVE_X(){return"changePerspectiveX"}static get CON_CHANGE_PERSPECTIVE_Y(){return"changePerspectiveY"}get translateX(){return this._translateX}set translateX(t){this._translateX!=t&&(this._translateX=t,this.doChange(CTransform.CON_CHANGE_TRANSLATE_X))}get translateY(){return this._translateY}set translateY(t){this._translateY!=t&&(this._translateY=t,this.doChange(CTransform.CON_CHANGE_TRANSLATE_Y))}get translateZ(){return this._translateZ}set translateZ(t){this._translateZ!=t&&(this._translateZ=t,this.doChange(CTransform.CON_CHANGE_TRANSLATE_Z))}get scaleX(){return this._scaleX}set scaleX(t){this._scaleX!=t&&(this._scaleX=t,this.doChange(CTransform.CON_CHANGE_SCALE_X))}get scaleY(){return this._scaleY}set scaleY(t){this._scaleY!=t&&(this._scaleY=t,this.doChange(CTransform.CON_CHANGE_SCALE_Y))}get scaleZ(){return this._scaleZ}set scaleZ(t){this._scaleZ!=t&&(this._scaleZ=t,this.doChange(CTransform.CON_CHANGE_SCALE_Z))}get scale(){return(this._scaleX+this._scaleY+this._scaleZ)/3}set scale(t){this.scaleX=t,this.scaleY=t,this.scaleZ=t}get rotationPointX(){return this._rotationPointX}set rotationPointX(t){this._rotationPointX!=t&&(this._rotationPointX=t,this.doChange(CTransform.CON_CHANGE_ROTATION_POINT_X))}get rotationPointY(){return this._rotationPointY}set rotationPointY(t){this._rotationPointY!=t&&(this._rotationPointY=t,this.doChange(CTransform.CON_CHANGE_ROTATION_POINT_Y))}get rotationPointZ(){return this._rotationPointZ}set rotationPointZ(t){this._rotationPointZ!=t&&(this._rotationPointZ=t,this.doChange(CTransform.CON_CHANGE_ROTATION_POINT_Z))}get rotateX(){return this._rotateX}set rotateX(t){this._rotateX!=t&&(this._rotateX=t,this.doChange(CTransform.CON_CHANGE_ROTATE_X))}get rotateY(){return this._rotateY}set rotateY(t){this._rotateY!=t&&(this._rotateY=t,this.doChange(CTransform.CON_CHANGE_ROTATE_Y))}get rotateZ(){return this._rotateZ}set rotateZ(t){this._rotateZ!=t&&(this._rotateZ=t,this.doChange(CTransform.CON_CHANGE_ROTATE_Z))}get perspective(){return this._perspective}set perspective(t){this._perspective!=t&&(this._perspective=t,this.doChange(CTransform.CON_CHANGE_PERSPECTIVE))}get perspectiveX(){return this._perspectiveX}set perspectiveX(t){this._perspectiveX!=t&&(this._perspectiveX=t,this.doChange(CTransform.CON_CHANGE_PERSPECTIVE_X))}get perspectiveY(){return this._perspectiveY}set perspectiveY(t){this._perspectiveY!=t&&(this._perspectiveY=t,this.doChange(CTransform.CON_CHANGE_PERSPECTIVE_Y))}doToData(t){super.doToData(t),CDataClass.putData(t,"translateX",this.translateX,0),CDataClass.putData(t,"translateY",this.translateY,0),CDataClass.putData(t,"translateZ",this.translateZ,0),CDataClass.putData(t,"scaleX",this.scaleX,1),CDataClass.putData(t,"scaleY",this.scaleY,1),CDataClass.putData(t,"scaleZ",this.scaleZ,1),CDataClass.putData(t,"rotateX",this.rotateX,0),CDataClass.putData(t,"rotateY",this.rotateY,0),CDataClass.putData(t,"rotateZ",this.rotateZ,0),CDataClass.putData(t,"perspective",this.perspective,1e3),CDataClass.putData(t,"perspectiveX",this.perspectiveX,.5),CDataClass.putData(t,"perspectiveY",this.perspectiveY,.5),CDataClass.putData(t,"rotationPointX",this.rotationPointX,.5),CDataClass.putData(t,"rotationPointY",this.rotationPointY,.5),CDataClass.putData(t,"rotationPointZ",this.rotationPointZ,0)}doFromData(t){super.doFromData(t),this.translateX=CDataClass.getData(t,"translateX",0),this.translateY=CDataClass.getData(t,"translateY",0),this.translateZ=CDataClass.getData(t,"translateZ",0),this.scaleX=CDataClass.getData(t,"scaleX",1),this.scaleY=CDataClass.getData(t,"scaleY",1),this.scaleZ=CDataClass.getData(t,"scaleZ",1),this.rotateX=CDataClass.getData(t,"rotateX",0),this.rotateY=CDataClass.getData(t,"rotateY",0),this.rotateZ=CDataClass.getData(t,"rotateZ",0),this.perspective=CDataClass.getData(t,"perspective",1e3),this.perspectiveX=CDataClass.getData(t,"perspectiveX",.5),this.perspectiveY=CDataClass.getData(t,"perspectiveY",.5),this.rotationPointX=CDataClass.getData(t,"rotationPointX",.5),this.rotationPointY=CDataClass.getData(t,"rotationPointY",.5),this.rotationPointZ=CDataClass.getData(t,"rotationPointZ",0)}doChange(t){super.doChange(t),CCalc.isIn(t,[CTransform.CON_CHANGE_TRANSLATE_X,CTransform.CON_CHANGE_TRANSLATE_Y,CTransform.CON_CHANGE_TRANSLATE_Z])&&this.doChangeTranslate(),CCalc.isIn(t,[CTransform.CON_CHANGE_ROTATE_X,CTransform.CON_CHANGE_ROTATE_Y,CTransform.CON_CHANGE_ROTATE_Z])&&this.doChangeRotation(),CCalc.isIn(t,[CTransform.CON_CHANGE_SCALE_X,CTransform.CON_CHANGE_SCALE_Y,CTransform.CON_CHANGE_SCALE_Z])&&this.doChangeScale(),CCalc.isIn(t,[CTransform.CON_CHANGE_PERSPECTIVE,CTransform.CON_CHANGE_PERSPECTIVE_X,CTransform.CON_CHANGE_PERSPECTIVE_Y])&&this.doChangePerspectiveInfo()}doChangeRotationPoint(){this.useChangeEvent&&this.onChangeRotationPoint&&this.onChangeRotationPoint(this)}doChangeTranslate(){this.useChangeEvent&&null!=this.onChangeTranslate&&this.onChangeTranslate(this)}doChangeRotation(){this.useChangeEvent&&null!=this.onChangeRotation&&this.onChangeRotation(this)}doChangeScale(){this.useChangeEvent&&null!=this.onChangeScale&&this.onChangeScale(this)}doChangePerspectiveInfo(){this.useChangeEvent&&null!=this.onChangePerspectiveInfo&&this.onChangePerspectiveInfo(this)}setTransform(t){0==this.rotationPointZ?t.style.transformOrigin=100*this.rotationPointX+"% "+100*this.rotationPointY+"%":t.style.transformOrigin=100*this.rotationPointX+"% "+100*this.rotationPointY+"% "+100*this.rotationPointZ+"px",t.style.transform="translateX("+this._translateX+"px) translateY("+this._translateY+"px) translateZ("+this._translateZ+"px) scaleX("+this._scaleX+") scaleY("+this._scaleY+") scaleZ("+this._scaleZ+") rotateX("+this._rotateX+"deg) rotateY("+this._rotateY+"deg) rotateZ("+this._rotateZ+"deg)",t.style.perspective=this._perspective+"px",t.style.perspectiveOrigin=100*this._perspectiveX+"% "+100*this._perspectiveY+"%"}translatePoint(t,a,i){let e=new CPoint3D(this.translateX,this.translateY,this.translateZ),s=CPoint3D.getAngleToPoint3D(e,t,a,i);this.translateX=s.x,this.translateY=s.y,this.translateZ=s.z}}class CPosition extends CNotifyChangeKindObject{constructor(){super(),this._align=EPositionAlign.NONE,this._left=0,this._top=0,this._width=0,this._height=0,this._margins=new CNotifyRect,this._padding=new CNotifyRect,this._alignInfo=new CPositionAlignInfo,this._parentAlignInfo=new CPositionParentAlignInfo;let t=this;this._margins.onChange=function(){t.doChange(CPosition.CON_CHANGE_MARGINS)},this._padding.onChange=function(){t.doChange(CPosition.CON_CHANGE_PADDING)},this._alignInfo.onChange=function(){t.doChange(CPosition.CON_CHANGE_ALIGN_INFO)},this._parentAlignInfo.onChange=function(){t.doChange(CPosition.CON_CHANGE_PARENT_ALIGN_INFO)}}static get CON_CHANGE_ALIGN(){return"changeAlign"}static get CON_CHANGE_LEFT(){return"changeLeft"}static get CON_CHANGE_TOP(){return"changeTop"}static get CON_CHANGE_WIDTH(){return"changeWidth"}static get CON_CHANGE_HEIGHT(){return"changeHeight"}static get CON_CHANGE_MARGINS(){return"changeMargins"}static get CON_CHANGE_PADDING(){return"changePadding"}static get CON_CHANGE_ALIGN_INFO(){return"changeAlignInfo"}static get CON_CHANGE_PARENT_ALIGN_INFO(){return"changeParentAlignInfo"}get align(){return this._align}set align(t){this._align!=t&&(this._align=t,this.doChange(CPosition.CON_CHANGE_ALIGN))}get left(){return this._left}set left(t){this._left!=t&&(this._left=t,this.doChange(CPosition.CON_CHANGE_LEFT))}set leftNotNofity(t){this._left=t}get top(){return this._top}set top(t){this._top!=t&&(this._top=t,this.doChange(CPosition.CON_CHANGE_TOP))}set topNotNofity(t){this._top=t}get width(){return this._width}set width(t){this._width!=t&&(this._width=t,this.doChange(CPosition.CON_CHANGE_WIDTH))}set widthNotNofity(t){this._width=t}get height(){return this._height}set height(t){this._height!=t&&(this._height=t,this.doChange(CPosition.CON_CHANGE_HEIGHT))}set heightNotNofity(t){this._height=t}get right(){return this.left+this.width}get alignInfo(){return this._alignInfo}get parentAlignInfo(){return this._parentAlignInfo}get bottom(){return this.top+this.height}get leftTop(){return new CPoint(this.left,this.top)}get rightTop(){return new CPoint(this.right,this.top)}get leftBottom(){return new CPoint(this.left,this.bottom)}get rightBottom(){return new CPoint(this.right,this.bottom)}get margins(){return this._margins}get padding(){return this._padding}doToData(t){super.doToData(t),CDataClass.putData(t,"align",this.align,EPositionAlign.NONE),CDataClass.putData(t,"left",this.left,0),CDataClass.putData(t,"top",this.top,0),CDataClass.putData(t,"width",this.width,0),CDataClass.putData(t,"height",this.height,0),CDataClass.putData(t,"margins",this.margins.toData(),{},!0),CDataClass.putData(t,"padding",this.padding.toData(),{},!0),CDataClass.putData(t,"alignInfo",this.alignInfo.toData(),{},!0),CDataClass.putData(t,"parentAlignInfo",this.parentAlignInfo.toData(),{},!0)}doFromData(t){super.doFromData(t),this.align=CDataClass.getData(t,"align",EPositionAlign.NONE),this.left=CDataClass.getData(t,"left",0),this.top=CDataClass.getData(t,"top",0),this.width=CDataClass.getData(t,"width",0),this.height=CDataClass.getData(t,"height",0),this.margins.fromData(CDataClass.getData(t,"margins",{},!0)),this.padding.fromData(CDataClass.getData(t,"padding",{},!0)),this.alignInfo.fromData(CDataClass.getData(t,"alignInfo",{},!0)),this.parentAlignInfo.fromData(CDataClass.getData(t,"parentAlignInfo",{},!0))}doChange(t){t==CPosition.CON_CHANGE_ALIGN&&this.doChangeAlign(),t==CPosition.CON_CHANGE_ALIGN_INFO&&this.doChangeAlignInfo(),t==CPosition.CON_CHANGE_PARENT_ALIGN_INFO&&this.doChangeParentAlignInfo(),CCalc.isIn(t,[CPosition.CON_CHANGE_LEFT,CPosition.CON_CHANGE_TOP])&&this.doChangePosition(),CCalc.isIn(t,[CPosition.CON_CHANGE_WIDTH,CPosition.CON_CHANGE_HEIGHT])&&this.doChangeSize(),t==CPosition.CON_CHANGE_MARGINS&&this.doChangeMargins(),t==CPosition.CON_CHANGE_PADDING&&this.doChangePadding(),super.doChange(t)}doChangeAlign(){this.useChangeEvent&&null!=this.onChangeAlign&&this.onChangeAlign(this)}doChangeAlignInfo(){this.useChangeEvent&&null!=this.onChangeAlignInfo&&this.onChangeAlignInfo(this)}doChangeParentAlignInfo(){this.useChangeEvent&&null!=this.onChangeParentAlignInfo&&this.onChangeParentAlignInfo(this)}doChangePosition(){this.useChangeEvent&&null!=this.onChangePosition&&this.onChangePosition(this)}doChangeSize(){this.useChangeEvent&&null!=this.onChangeSize&&this.onChangeSize(this)}doChangeMargins(){this.useChangeEvent&&null!=this.onChangeMargins&&this.onChangeMargins(this)}doChangePadding(){this.useChangeEvent&&null!=this.onChangePadding&&this.onChangePadding(this)}isRelativeAlign(){return CCalc.isIn(this._align,[EPositionAlign.LEFT,EPositionAlign.TOP,EPositionAlign.RIGHT,EPositionAlign.BOTTOM,EPositionAlign.CLIENT,EPositionAlign.FLOW])}toRect(){return new CRect(this.left,this.top,this.left+this.width,this.top+this.height)}enumProperties(){let t=new Map;return t.set("align",CEnum.toArray(EPositionAlign)),t}equalRect(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height}static getAlignPixelBounds(t,a,i){let e=new CPosition,s=i;if(i.align==EPositionAlign.NONE)return e.left=i.left,e.top=i.top,e.width=i.width,e.height=i.height,e;if(i.align==EPositionAlign.CENTER)return e.left=(t.width-i.width)/2,e.top=(t.height-i.height)/2,e.width=i.width,e.height=i.height,e;if(i.align==EPositionAlign.PARENT_SIZE)return e.left=0,e.top=0,e.width=t.width,e.height=t.height,e;if(i.align==EPositionAlign.LEFTTOP)return e.left=t.padding.left+s.margins.left,e.top=t.padding.top+s.margins.top,e.width=s.width,e.height=s.height,e;if(i.align==EPositionAlign.RIGHTTOP)return e.left=t.width-s.width-s.margins.right-t.padding.right,e.top=t.padding.top+s.margins.top,e.width=s.width,e.height=s.height,e;if(i.align==EPositionAlign.LEFTBOTTOM)return e.left=s.margins.left+t.padding.left,e.top=t.height-s.height-s.margins.bottom-t.padding.bottom,e.width=s.width,e.height=s.height,e;if(i.align==EPositionAlign.RIGHTBOTTOM)return e.left=t.width-s.width-s.margins.right-t.padding.right,e.top=t.height-s.height-s.margins.bottom-t.padding.bottom,e.width=s.width,e.height=s.height,e;if(i.align==EPositionAlign.MIDDLELEFT)return e.left=s.margins.left+t.padding.left,e.top=(t.height-s.height)/2,e.width=s.width,e.height=s.height,e;if(i.align==EPositionAlign.MIDDLETOP)return e.left=(t.width-s.width)/2,e.top=s.margins.top+t.padding.top,e.width=s.width,e.height=s.height,e;if(i.align==EPositionAlign.MIDDLERIGHT)return e.left=t.width-s.width-s.margins.right-t.padding.right,e.top=(t.height-s.height)/2,e.width=s.width,e.height=s.height,e;if(i.align==EPositionAlign.MIDDLEBOTTOM)return e.left=(t.width-s.width)/2,e.top=t.height-s.height-s.margins.bottom-t.padding.bottom,e.width=s.width,e.height=s.height,e;if(i.align==EPositionAlign.HCENTER)return e.left=(t.width-s.width)/2,e.top=s.margins.top+t.padding.top,e.height=t.height-s.margins.top-s.margins.bottom-t.padding.bottom,e.width=s.width,e;if(i.align==EPositionAlign.VCENTER)return e.left=s.margins.left+t.padding.left,e.top=(t.height-s.height)/2,e.width=t.width-s.margins.left-s.margins.right-t.padding.right,e.height=s.height,e;if(i.align==EPositionAlign.TURN){let n=t.width*t.parentAlignInfo.turnCenter.x,h=t.height*t.parentAlignInfo.turnCenter.y;if(t.parentAlignInfo.turnAutoSet){let o=-1,r=new Array;for(let t=0;t<a.length;t++)a[t].align==EPositionAlign.TURN&&r.push(a[t]);for(let t=0;t<r.length;t++)if(r[t]==i){o=t;break}if(-1!=o){let a=CCalc.crRange2Value(0,r.length-1,o,t.parentAlignInfo.turnAutoSetStartAngle,t.parentAlignInfo.turnAutoSetStopAngle),i=CPoint.getAngleToPoint(new CPoint(n,h),t.parentAlignInfo.turnAutoSetRadiusX,t.parentAlignInfo.turnAutoSetRadiusY,a);e.left=i.x-s.width/2,e.top=i.y-s.height/2}}else{let t=CPoint.getAngleToPoint(new CPoint(n,h),s.alignInfo.turnRadiusX,s.alignInfo.turnRadiusY,s.alignInfo.turnAngle);e.left=t.x-s.width/2,e.top=t.y-s.height/2}return e.width=s.width,e.height=s.height,e}if(i.align==EPositionAlign.PATHDATA)if(t.parentAlignInfo.pathDataAutoSet){let n=CSystem.resources.get(t.parentAlignInfo.pathData);if(null!=n){let h=-1,o=new Array;for(let t=0;t<a.length;t++)a[t].align==EPositionAlign.PATHDATA&&o.push(a[t]);for(let t=0;t<o.length;t++)if(o[t]==i){h=t;break}let r=CCalc.crRange2Value(0,o.length-1,h,t.parentAlignInfo.pathDataStartMiddleValue,t.parentAlignInfo.pathDataStopMiddleValue);if(!isNaN(r)){let a=Math.floor(CCalc.cr(n.points.length-1,0,1,r,2));if(t.parentAlignInfo.pathDataFitMode==EFitMode.FIT){let i=new CRect(0,0,t.width,t.height),h=new CRect(0,0,50,50);h=i.getFitRect(h,!0),e.left=n.points[a].x*h.width+h.left-s.width/2,e.top=n.points[a].y*h.height+h.top-s.height/2}else e.left=n.points[a].x*t.width-s.width/2,e.top=n.points[a].y*t.height-s.height/2;return e.width=s.width,e.height=s.height,e}}}else{let a=CSystem.resources.get(t.parentAlignInfo.pathData);if(null!=a){let i=s.alignInfo.pathMiddleValue;i>1&&(i=1);let n=Math.floor(CCalc.cr(a.points.length-1,0,1,i,2));if(t.parentAlignInfo.pathDataFitMode==EFitMode.FIT){let i=new CRect(0,0,t.width,t.height),s=new CRect(0,0,50,50);s=i.getFitRect(s,!0),e.left=a.points[n].points.x*s.width+s.left,e.top=a.points[n].y*s.height+s.top}else e.left=a.points[n].x*t.width,e.top=a.points[n].y*t.height;return e.width=s.width,e.height=s.height,e}}if(i.align==EPositionAlign.GRID){let a=t.parentAlignInfo.gridColumnCount,i=t.parentAlignInfo.gridRowCount;if(a<=0)return e;{let n=(t.width-(a-1)*t.parentAlignInfo.marginX-t.padding.left-t.padding.right)/a,h=0;return h=i<=0?s.alignInfo.gridRowHeight:(t.height-(i-1)*t.parentAlignInfo.marginY-t.padding.top-t.padding.bottom)/i,e.left=s.alignInfo.gridColumn*n+s.alignInfo.gridColumn*t.parentAlignInfo.marginX+t.padding.left,e.top=s.alignInfo.gridRow*h+s.alignInfo.gridRow*t.parentAlignInfo.marginY+t.padding.top,e.width=n,e.height=h,e}}let n=new Array,h=new Array,o=new Array,r=new Array,C=new Array,g=t.padding.left,l=t.padding.top,_=t.padding.right,u=t.padding.bottom,d=!0,A=!0,p=!0,N=!0,D=!0;for(let t=0;t<a.length;t++){if(a[t].align==EPositionAlign.LEFT&&d){if(a[t]==s){d=!1;continue}n.push(a[t]),g+=a[t].margins.left+a[t].width+a[t].margins.right}if(a[t].align==EPositionAlign.TOP&&A){if(a[t]==s){A=!1;continue}h.push(a[t]),l+=a[t].margins.top+a[t].height+a[t].margins.bottom}if(a[t].align==EPositionAlign.RIGHT&&p){if(a[t]==s){p=!1;continue}o.push(a[t]),_+=a[t].margins.left+a[t].width+a[t].margins.right}if(a[t].align==EPositionAlign.BOTTOM&&N){if(a[t]==s){N=!1;continue}r.push(a[t]),u+=a[t].margins.top+a[t].height+a[t].margins.bottom}if(a[t].align==EPositionAlign.FLOW&&D){if(a[t]==s){D=!1;continue}C.push(a[t])}}if(i.align==EPositionAlign.LEFT&&(e.left=g+s.margins.left,e.width=s.width,e.top=l+s.margins.top,e.height=t.height-u-l-s.margins.top-s.margins.bottom),i.align==EPositionAlign.TOP&&(e.left=t.padding.left+s.margins.left,e.top=l+s.margins.top,e.width=t.width-s.margins.left-s.margins.right-t.padding.left-t.padding.right,e.height=s.height),i.align==EPositionAlign.RIGHT&&(e.left=t.width-s.width-_-s.margins.right,e.top=l+s.margins.top,e.height=t.height-u-l-s.margins.top-s.margins.bottom,e.width=s.width),i.align==EPositionAlign.BOTTOM&&(e.left=t.padding.left+s.margins.left,e.top=t.height-s.height-u-s.margins.bottom,e.width=t.width-s.margins.left-s.margins.right-t.padding.left-t.padding.right,e.height=s.height),i.align==EPositionAlign.CLIENT&&(e.left=g+s.margins.left,e.top=l+s.margins.top,e.width=t.width-_-g-s.margins.left-s.margins.right,e.height=t.height-u-l-s.margins.top-s.margins.bottom),i.align==EPositionAlign.FLOW){let a=t.parentAlignInfo.marginX,i=t.parentAlignInfo.marginY,n=t.padding.left+a,h=n,o=t.padding.top+i,r=t.width,g=0;for(let t=0;t<C.length;t++)h+C[t].width>=r&&(h=n,o+=i+g,g=0),g<C[t].height&&(g=C[t].height),h+=C[t].width+a;h+s.width>=r&&(h=n,o+=i+g),e.left=h,e.top=o,e.width=s.width,e.height=s.height}return e}static getElementBounds(t){let a=new CPosition;return a.left=t.offsetLeft,a.top=t.offsetTop,a.width=t.offsetWidth,a.height=t.offsetHeight,a}}class CStopPropagationInfo extends CNotifyChangeKindObject{constructor(){super(...arguments),this._down=!1,this._move=!1,this._up=!1,this._cancel=!1,this._over=!1,this._out=!1,this._enter=!1,this._leave=!1,this._keyboard=!1,this._wheel=!1}static get CON_CHANGE_DOWN(){return"d"}static get CON_CHANGE_MOVE(){return"m"}static get CON_CHANGE_UP(){return"u"}static get CON_CHANGE_CANCEL(){return"c"}static get CON_CHANGE_OVER(){return"ov"}static get CON_CHANGE_OUT(){return"ou"}static get CON_CHANGE_ENTER(){return"e"}static get CON_CHANGE_LEAVE(){return"l"}static get CON_CHANGE_KEYBOARD(){return"k"}get down(){return this._down}set down(t){this._down!=t&&(this._down=t,this.doChange(CStopPropagationInfo.CON_CHANGE_DOWN))}get move(){return this._move}set move(t){this._move!=t&&(this._move=t,this.doChange(CStopPropagationInfo.CON_CHANGE_MOVE))}get up(){return this._up}set up(t){this._up!=t&&(this._up=t,this.doChange(CStopPropagationInfo.CON_CHANGE_UP))}get cancel(){return this._cancel}set cancel(t){this._cancel!=t&&(this._cancel=t,this.doChange(CStopPropagationInfo.CON_CHANGE_CANCEL))}get over(){return this._over}set over(t){this._over!=t&&(this._over=t,this.doChange(CStopPropagationInfo.CON_CHANGE_OVER))}get out(){return this._out}set out(t){this._out!=t&&(this._out=t,this.doChange(CStopPropagationInfo.CON_CHANGE_OUT))}get enter(){return this._enter}set enter(t){this._enter!=t&&(this._enter=t,this.doChange(CStopPropagationInfo.CON_CHANGE_ENTER))}get leave(){return this._leave}set leave(t){this._leave!=t&&(this._leave=t,this.doChange(CStopPropagationInfo.CON_CHANGE_LEAVE))}get keyboard(){return this._keyboard}set keyboard(t){this._keyboard!=t&&(this._keyboard=t,this.doChange(CStopPropagationInfo.CON_CHANGE_KEYBOARD))}get wheel(){return this._wheel}set wheel(t){this._wheel!=t&&(this._wheel=t,this.doChange("wheel"))}doToData(t){super.doToData(t),CDataClass.putData(t,"down",this.down,!1),CDataClass.putData(t,"move",this.move,!1),CDataClass.putData(t,"up",this.up,!1),CDataClass.putData(t,"cancel",this.cancel,!1),CDataClass.putData(t,"over",this.over,!1),CDataClass.putData(t,"out",this.out,!1),CDataClass.putData(t,"enter",this.enter,!1),CDataClass.putData(t,"leave",this.leave,!1),CDataClass.putData(t,"keyboard",this.keyboard,!1),CDataClass.putData(t,"wheel",this.wheel,!1)}doFromData(t){super.doFromData(t),this.down=CDataClass.getData(t,"down",!1),this.move=CDataClass.getData(t,"move",!1),this.up=CDataClass.getData(t,"up",!1),this.cancel=CDataClass.getData(t,"cancel",!1),this.over=CDataClass.getData(t,"over",!1),this.out=CDataClass.getData(t,"out",!1),this.enter=CDataClass.getData(t,"enter",!1),this.leave=CDataClass.getData(t,"leave",!1),this.keyboard=CDataClass.getData(t,"keyboard",!1),this.wheel=CDataClass.getData(t,"wheel",!1)}}class CFilterSet extends CNotifyChangeKindObject{constructor(){super(...arguments),this._blur=!1,this._brightness=!1,this._contrast=!1,this._shadow=!1,this._grayscale=!1,this._hueRotate=!1,this._invert=!1,this._opacity=!1}static get CON_CHANGE_BLUR(){return"changeBlur"}static get CON_CHANGE_BRIGHTNESS(){return"changeBrightness"}static get CON_CHANGE_CONTRAST(){return"changeContrast"}static get CON_CHANGE_SHADOW(){return"changeShadow"}static get CON_CHANGE_GRAYSCALE(){return"changeGrayscale"}static get CON_CHANGE_HUE_ROTATION(){return"changeHueRotaion"}static get CON_CHANGE_INVERT(){return"changeInvert"}static get CON_CHANGE_OPACITY(){return"changeOpacity"}get blur(){return this._blur}set blur(t){this._blur!=t&&(this._blur=t,this.doChange(CFilterSet.CON_CHANGE_BLUR))}get brightness(){return this._brightness}set brightness(t){this._brightness!=t&&(this._brightness=t,this.doChange(CFilterSet.CON_CHANGE_BRIGHTNESS))}get contrast(){return this._contrast}set contrast(t){this._contrast!=t&&(this._contrast=t,this.doChange(CFilterSet.CON_CHANGE_CONTRAST))}get shadow(){return this._shadow}set shadow(t){this._shadow!=t&&(this._shadow=t,this.doChange(CFilterSet.CON_CHANGE_SHADOW))}get grayscale(){return this._grayscale}set grayscale(t){this._grayscale!=t&&(this._grayscale=t,this.doChange(CFilterSet.CON_CHANGE_GRAYSCALE))}get hueRotate(){return this._hueRotate}set hueRotate(t){this._hueRotate!=t&&(this._hueRotate=t,this.doChange(CFilterSet.CON_CHANGE_HUE_ROTATION))}get invert(){return this._invert}set invert(t){this._invert!=t&&(this._invert=t,this.doChange(CFilterSet.CON_CHANGE_INVERT))}get opacity(){return this._opacity}set opacity(t){this._opacity!=t&&(this._opacity=t,this.doChange(CFilterSet.CON_CHANGE_OPACITY))}doToData(t){super.doToData(t),CDataClass.putData(t,"blur",this.blur,!1),CDataClass.putData(t,"brightness",this.brightness,!1),CDataClass.putData(t,"contrast",this.contrast,!1),CDataClass.putData(t,"shadow",this.shadow,!1),CDataClass.putData(t,"grayscale",this.grayscale,!1),CDataClass.putData(t,"hueRotate",this.hueRotate,!1),CDataClass.putData(t,"invert",this.invert,!1),CDataClass.putData(t,"opacity",this.opacity,!1)}doFromData(t){super.doFromData(t),this.blur=CDataClass.getData(t,"blur",!1),this.brightness=CDataClass.getData(t,"brightness",!1),this.contrast=CDataClass.getData(t,"contrast",!1),this.shadow=CDataClass.getData(t,"shadow",!1),this.grayscale=CDataClass.getData(t,"grayscale",!1),this.hueRotate=CDataClass.getData(t,"hueRotate",!1),this.invert=CDataClass.getData(t,"invert",!1),this.opacity=CDataClass.getData(t,"opacity",!1)}}class CFilter extends CNotifyChangeKindObject{constructor(t){super(),this._filterSet=new CFilterSet,this._blurValue=5,this._brightnessValue=1,this._constrastValue=1,this._shadowX=5,this._shadowY=5,this._shadowBlur=5,this._shadowColor="rgba(0,0,0,1)",this._grayscaleValue=1,this._hueRotateValue=90,this._invertValue=1,this._opacityValue=1,this._customFilter="",this._element=t;let a=this;this._filterSet.onChange=function(){a.doChange(CFilter.CON_CHANGE_FILTER_SET)}}static get CON_CHANGE_FILTER_SET(){return"changeFilterSet"}static get CON_CHANGE_BLUR_VALUE(){return"changeBlurValue"}static get CON_CHANGE_BRIGHTNESS_VALUE(){return"changeBrightnessValue"}static get CON_CHANGE_CONSTRAST_VALUE(){return"changeConstrastValue"}static get CON_CHANGE_SHADOW_X(){return"changeShadowX"}static get CON_CHANGE_SHADOW_Y(){return"changeShadowY"}static get CON_CHANGE_SHADOW_BLUR(){return"changeShadowBlur"}static get CON_CHANGE_SHADOW_COLOR(){return"changeShadowColor"}static get CON_CHANGE_GRAYSCALE_VALUE(){return"changeGrayscaleValue"}static get CON_CHANGE_HUE_ROTATE_VALUE(){return"changeHueRotateValue"}static get CON_CHANGE_INVERT_VALUE(){return"changeInvertValue"}static get CON_CHANGE_OPACITY_VALUE(){return"changeOpacityValue"}static get CON_CHANGE_CUSTOM(){return"changeCustom"}get element(){return this._element}get filterSet(){return this._filterSet}get blurValue(){return this._blurValue}set blurValue(t){this._blurValue!=t&&(this._blurValue=t,this.doChange(CFilter.CON_CHANGE_BLUR_VALUE))}get brightnessValue(){return this._brightnessValue}set brightnessValue(t){this._brightnessValue!=t&&(this._brightnessValue=t,this.doChange(CFilter.CON_CHANGE_BRIGHTNESS_VALUE))}get constrastValue(){return this._constrastValue}set constrastValue(t){this._constrastValue!=t&&(this._constrastValue=t,this.doChange(CFilter.CON_CHANGE_CONSTRAST_VALUE))}get shadowX(){return this._shadowX}set shadowX(t){this._shadowX!=t&&(this._shadowX=t,this.doChange(CFilter.CON_CHANGE_SHADOW_X))}get shadowY(){return this._shadowY}set shadowY(t){this._shadowY!=t&&(this._shadowY=t,this.doChange(CFilter.CON_CHANGE_SHADOW_Y))}get shadowBlur(){return this._shadowBlur}set shadowBlur(t){this._shadowBlur!=t&&(this._shadowBlur=t,this.doChange(CFilter.CON_CHANGE_SHADOW_BLUR))}get shadowColor(){return this._shadowColor}set shadowColor(t){this._shadowColor!=t&&(this._shadowColor=t,this.doChange(CFilter.CON_CHANGE_SHADOW_COLOR))}get grayscaleValue(){return this._grayscaleValue}set grayscaleValue(t){this._grayscaleValue!=t&&(this._grayscaleValue=t,this.doChange(CFilter.CON_CHANGE_GRAYSCALE_VALUE))}get hueRotateValue(){return this._hueRotateValue}set hueRotateValue(t){this._hueRotateValue!=t&&(this._hueRotateValue=t,this.doChange(CFilter.CON_CHANGE_HUE_ROTATE_VALUE))}get invertValue(){return this._invertValue}set invertValue(t){this._invertValue!=t&&(this._invertValue=t,this.doChange(CFilter.CON_CHANGE_INVERT_VALUE))}get opacityValue(){return this._opacityValue}set opacityValue(t){this._opacityValue!=t&&(this._opacityValue=t,this.doChange(CFilter.CON_CHANGE_OPACITY_VALUE))}get customFilter(){return this._customFilter}set customFilter(t){this._customFilter!=t&&(this._customFilter=t,this.doChange(CFilter.CON_CHANGE_CUSTOM))}getFilter(){let t="";return this._filterSet.blur&&(t+=" blur("+this._blurValue+"px)"),this._filterSet.brightness&&(t+=" brightness("+this._brightnessValue+")"),this._filterSet.contrast&&(t+=" contrast("+100*this._constrastValue+"%)"),this._filterSet.shadow&&(t+=" drop-shadow("+this._shadowX+"px "+this._shadowY+"px "+this._shadowBlur+"px "+this._shadowColor+")"),this._filterSet.grayscale&&(t+=" grayscale("+100*this._grayscaleValue+"%)"),this._filterSet.hueRotate&&(t+=" hue-rotate("+this._hueRotateValue+"deg)"),this._filterSet.invert&&(t+=" invert("+100*this._invertValue+"%)"),this._filterSet.opacity&&(t+=" invert("+100*this._opacityValue+"%)"),""!=this._customFilter&&(t+=" "+this.customFilter),t}doToData(t){super.doToData(t),CDataClass.putData(t,"filterSet",this.filterSet.toData(),{},!0),CDataClass.putData(t,"blurValue",this.blurValue,5),CDataClass.putData(t,"brightnessValue",this.brightnessValue,1),CDataClass.putData(t,"constrastValue",this.constrastValue,1),CDataClass.putData(t,"shadowX",this.shadowX,5),CDataClass.putData(t,"shadowY",this.shadowY,5),CDataClass.putData(t,"shadowBlur",this.shadowBlur,5),CDataClass.putData(t,"shadowColor",this.shadowColor,"rgba(0,0,0,1)"),CDataClass.putData(t,"grayscaleValue",this.grayscaleValue,1),CDataClass.putData(t,"hueRotateValue",this.hueRotateValue,90),CDataClass.putData(t,"invertValue",this.invertValue,1),CDataClass.putData(t,"opacityValue",this.opacityValue,1),CDataClass.putData(t,"customFilter",this.customFilter,"")}doFromData(t){super.doFromData(t),this.filterSet.fromData(CDataClass.getData(t,"filterSet",{},!0)),this.blurValue=CDataClass.getData(t,"blurValue",5),this.brightnessValue=CDataClass.getData(t,"brightnessValue",1),this.constrastValue=CDataClass.getData(t,"constrastValue",1),this.shadowX=CDataClass.getData(t,"shadowX",5),this.shadowY=CDataClass.getData(t,"shadowY",5),this.shadowBlur=CDataClass.getData(t,"shadowBlur",5),this.shadowColor=CDataClass.getData(t,"shadowColor","rgba(0,0,0,1)"),this.grayscaleValue=CDataClass.getData(t,"grayscaleValue",1),this.hueRotateValue=CDataClass.getData(t,"hueRotateValue",90),this.invertValue=CDataClass.getData(t,"invertValue",1),this.opacityValue=CDataClass.getData(t,"opacityValue",1),this.customFilter=CDataClass.getData(t,"customFilter","")}doChange(t){super.doChange(t),this.doApplyFilter()}doApplyFilter(){null!=this._element&&(this._element.style.filter=this.getFilter(),null!=this.onApplyFilter&&this.onApplyFilter(this))}allOff(){this.filterSet.blur=!1,this.filterSet.brightness=!1,this.filterSet.contrast=!1,this.filterSet.shadow=!1,this.filterSet.grayscale=!1,this.filterSet.hueRotate=!1,this.filterSet.invert=!1,this.filterSet.opacity=!1}}class CTransformerPoints extends CNotifyChangeNotifyObject{constructor(){super(),this._leftTop=new CNotifyPoint,this._rightTop=new CNotifyPoint,this._leftBottom=new CNotifyPoint,this._rightBottom=new CNotifyPoint,this._leftC1=new CNotifyPoint,this._leftC2=new CNotifyPoint,this._topC1=new CNotifyPoint,this._topC2=new CNotifyPoint,this._rightC1=new CNotifyPoint,this._rightC2=new CNotifyPoint,this._bottomC1=new CNotifyPoint,this._bottomC2=new CNotifyPoint;let t=this;this._leftTop.onChange=function(){t.doChange()},this._leftBottom.onChange=function(){t.doChange()},this._rightTop.onChange=function(){t.doChange()},this._rightBottom.onChange=function(){t.doChange()},this._leftC1.onChange=function(){t.doChange()},this._leftC2.onChange=function(){t.doChange()},this._topC1.onChange=function(){t.doChange()},this._topC2.onChange=function(){t.doChange()},this._rightC1.onChange=function(){t.doChange()},this._rightC2.onChange=function(){t.doChange()},this._bottomC1.onChange=function(){t.doChange()},this._bottomC2.onChange=function(){t.doChange()}}get leftTop(){return this._leftTop}get rightTop(){return this._rightTop}get leftBottom(){return this._leftBottom}get rightBottom(){return this._rightBottom}get leftC1(){return this._leftC1}get leftC2(){return this._leftC2}get topC1(){return this._topC1}get topC2(){return this._topC2}get rightC1(){return this._rightC1}get rightC2(){return this._rightC2}get bottomC1(){return this._bottomC1}get bottomC2(){return this._bottomC2}isEmpty(){return this._leftTop.isZero()&&this._leftBottom.isZero()&&this._rightBottom.isZero()&&this._rightTop.isZero()&&this._leftC1.isZero()&&this._leftC2.isZero()&&this._topC1.isZero()&&this._topC2.isZero()&&this._rightC1.isZero()&&this._rightC2.isZero()&&this._bottomC1.isZero()&&this._bottomC2.isZero()}getBounds(){let t=Number.MAX_VALUE,a=Number.MAX_VALUE,i=Number.MIN_VALUE,e=Number.MIN_VALUE;return console.log(this),this._leftTop.x<t&&(t=this._leftTop.x),this._leftBottom.x<t&&(t=this._leftBottom.x),this._rightTop.x<t&&(t=this._rightTop.x),this._rightBottom.x<t&&(t=this._rightBottom.x),this._leftC1.x<t&&(t=this._leftC1.x),this._leftC2.x<t&&(t=this._leftC2.x),this._topC1.x<t&&(t=this._topC1.x),this._topC2.x<t&&(t=this._topC2.x),this._rightC1.x<t&&(t=this._rightC1.x),this._rightC2.x<t&&(t=this._rightC2.x),this._bottomC1.x<t&&(t=this._bottomC1.x),this._bottomC2.x<t&&(t=this._bottomC2.x),this._leftTop.y<a&&(a=this._leftTop.y),this._leftBottom.y<a&&(a=this._leftBottom.y),this._rightTop.y<a&&(a=this._rightTop.y),this._rightBottom.y<a&&(a=this._rightBottom.y),this._leftC1.y<a&&(a=this._leftC1.y),this._leftC2.y<a&&(a=this._leftC2.y),this._topC1.y<a&&(a=this._topC1.y),this._topC2.y<a&&(a=this._topC2.y),this._rightC1.y<a&&(a=this._rightC1.y),this._rightC2.y<a&&(a=this._rightC2.y),this._bottomC1.y<a&&(a=this._rightC1.y),this._bottomC2.y<a&&(a=this._rightC2.y),this._leftTop.x>i&&(i=this._leftTop.x),this._leftBottom.x>i&&(i=this._leftBottom.x),this._rightTop.x>i&&(i=this._rightTop.x),this._rightBottom.x>i&&(i=this._rightBottom.x),this._leftC1.x>i&&(i=this._leftC1.x),this._leftC2.x>i&&(i=this._leftC2.x),this._topC1.x>i&&(i=this._topC1.x),this._topC2.x>i&&(i=this._topC2.x),this._rightC1.x>i&&(i=this._rightC1.x),this._rightC2.x>i&&(i=this._rightC2.x),this._bottomC1.x>i&&(i=this._rightC1.x),this._bottomC2.x>i&&(i=this._rightC2.x),this._leftTop.y>e&&(e=this._leftTop.y),this._leftBottom.y>e&&(e=this._leftBottom.y),this._rightTop.y>e&&(e=this._rightTop.y),this._rightBottom.y>e&&(e=this._rightBottom.y),this._leftC1.y>e&&(e=this._leftC1.y),this._leftC2.y>e&&(e=this._leftC2.y),this._topC1.y>e&&(e=this._topC1.y),this._topC2.y>e&&(e=this._topC2.y),this._rightC1.y>e&&(e=this._rightC1.y),this._rightC2.y>e&&(e=this._rightC2.y),this._bottomC1.y>e&&(e=this._rightC1.y),this._bottomC2.y>e&&(e=this._rightC2.y),t==Number.MAX_VALUE&&a==Number.MAX_VALUE&&i==Number.MIN_VALUE&&e==Number.MIN_VALUE?new CRect:new CRect(t,a,i,e)}}